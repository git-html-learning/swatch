<template>
  <div class="layout">
    <!-- <div
      id="background"
      style="position: absolute; z-index: -10; width:100%; height:100%; top:0px; left:0px;   background-color: rgba(227, 241, 247,0.8)"
    >
      <img src="@/assets/img/bg.jpg" width="100%" height="100%" />
    </div>-->
    <div class="titlePart">
      <!-- <div
      style="position: absolute; z-index: -1; width:100%; height:100%; top:0px; left:0px; background: transparent;"
      >-->
      <div class="col-sm-12 col-md-12 pd title-info">户外赛事智能安全保障平台</div>
      <div class="analysis-filter">
        <span style="padding-top: -10px;">{{date}}</span>
        <span style="margin-left: 20px; margin-top: 10px;">
          <el-tooltip
            style="margin-right: 10px;"
            class="item"
            effect="light"
            content="刷新"
            placement="top-start"
          >
            <svg
              @click="reset"
              t="1654350962783"
              class="icon"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              p-id="6443"
              data-spm-anchor-id="a313x.7781069.0.i24"
              width="20"
              height="20"
            >
              <path
                d="M332.8 640m-230.4 0a230.4 230.4 0 1 0 460.8 0 230.4 230.4 0 1 0-460.8 0Z"
                fill="#5AC8FA"
                p-id="6444"
              />
              <path
                d="M819.2 204.8c-81.92-81.92-189.44-128-307.2-128-240.64 0-435.2 194.56-435.2 435.2s194.56 435.2 435.2 435.2 435.2-194.56 435.2-435.2c0-46.08-10.24-97.28-20.48-138.24-5.12-15.36 0-30.72 15.36-35.84 10.24 0 25.6 5.12 30.72 20.48 15.36 51.2 25.6 102.4 25.6 153.6 0 266.24-220.16 486.4-486.4 486.4S25.6 778.24 25.6 512 245.76 25.6 512 25.6c133.12 0 250.88 51.2 343.04 143.36V25.6c0-15.36 10.24-25.6 25.6-25.6s25.6 10.24 25.6 25.6v204.8c0 15.36-10.24 25.6-25.6 25.6h-204.8c-15.36 0-25.6-10.24-25.6-25.6s10.24-25.6 25.6-25.6H819.2z"
                fill="#b188d4"
                p-id="6445"
                data-spm-anchor-id="a313x.7781069.0.i25"
                class="selected"
              />
            </svg>
          </el-tooltip>
          <el-tooltip
            style="margin-right: 10px;"
            class="item"
            effect="light"
            content="进入操作详情页"
            placement="top-start"
          >
            <svg
              @click="skip"
              t="1654345810276"
              class="icon"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              p-id="2218"
              width="20"
              height="20"
            >
              <path
                d="M346.2 514.6m-64.2 0a64.2 64.2 0 1 0 128.4 0 64.2 64.2 0 1 0-128.4 0Z"
                fill="#91B1D5"
                p-id="2219"
              />
              <path
                d="M450.1 514.6a64.2 64.2 0 1 0 128.4 0 64.2 64.2 0 1 0-128.4 0Z"
                fill="#91B1D5"
                p-id="2220"
              />
              <path
                d="M682.5 514.6m-64.2 0a64.2 64.2 0 1 0 128.4 0 64.2 64.2 0 1 0-128.4 0Z"
                fill="#91B1D5"
                p-id="2221"
              />
              <path
                d="M512 136.3c50.7 0 99.9 9.9 146.2 29.5 44.7 18.9 84.9 46 119.5 80.6 34.5 34.5 61.6 74.7 80.6 119.5 19.6 46.3 29.5 95.5 29.5 146.2s-9.9 99.9-29.5 146.2c-18.9 44.7-46 84.9-80.6 119.5-34.5 34.5-74.7 61.6-119.5 80.6-46.3 19.6-95.5 29.5-146.2 29.5s-99.9-9.9-146.2-29.5c-44.7-18.9-84.9-46-119.4-80.6-34.5-34.5-61.6-74.7-80.6-119.5-19.6-46.3-29.5-95.5-29.5-146.2s9.9-99.9 29.5-146.2c18.9-44.7 46-84.9 80.6-119.5 34.5-34.5 74.7-61.6 119.4-80.6 46.3-19.6 95.5-29.5 146.2-29.5m0-70C265.9 66.3 66.3 265.9 66.3 512S265.9 957.7 512 957.7 957.7 758.1 957.7 512 758.1 66.3 512 66.3z"
                fill="#91B1D5"
                p-id="2222"
              />
            </svg>
          </el-tooltip>
          <el-tooltip class="item" effect="light" content="注销" placement="top-start">
            <svg
              @click="logout"
              t="1654345856153"
              class="icon"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              p-id="3111"
              width="20"
              height="20"
            >
              <path
                d="M980.522459 379.849054C933.428449 222.83239 809.469502 99.652683 650.314927 53.038205v332.705093c0 76.065717-61.979473 137.395824-138.824429 137.395824-76.854946 0-138.824429-61.340098-138.82443-137.395824V53.527727C113.838829 129.103922-33.916878 398.500839 42.438556 654.650693c76.355434 256.149854 348.55961 402.387044 607.866381 326.810848 259.316761-75.566205 406.582946-345.452644 330.217522-601.612487z"
                p-id="3112"
                fill="#d4237a"
              />
              <path
                d="M511.480507 434.815376c38.182712 0 69.412215-30.909815 69.412215-68.702908V90.331785c0-37.783102-31.239493-68.702907-69.412215-68.702907C473.307785 21.638868 442.068293 52.548683 442.068293 90.331785v275.780683c0 37.783102 31.239493 68.702907 69.412214 68.702908z"
                p-id="3113"
                fill="#d4237a"
              />
            </svg>
          </el-tooltip>
        </span>
      </div>
    </div>
    <div class="content">
      <el-row type="flex" justify>
        <el-col :span="6">
          <div class="left">
            <div class="top">
              <div
                class="title"
                style="text-align: center;
               color: #00f6ff; font-size: 23px; line-height: 60px; height: 60px;"
              >
                <img src="@/assets/img/icon01.png" alt style="margin-top:10px;" />
                用户统计
              </div>
              <div style=" z-index: 60;">
                <div style="height: 60px; width: 70%; margin-top: 8px; margin-left: 15%; ">
                  <el-row type="flex" justify style="height: 50px;">
                    <el-col
                      :span="1"
                      style="width: 60px;background-color: #073afa; text-align: center; "
                    >
                      <svg
                        style="text-align: center; height: 50px;"
                        t="1655106448711"
                        class="icon"
                        viewBox="0 0 1024 1024"
                        version="1.1"
                        xmlns="http://www.w3.org/2000/svg"
                        p-id="2466"
                        width="45"
                        height="45"
                      >
                        <path
                          d="M677.8 734.2H346.4c-66.4 0-120.4-54-120.4-120.4V410.6c0-66.4 54-120.4 120.4-120.4h331.4c66.4 0 120.4 54 120.4 120.4v203.3c-0.1 66.3-54 120.3-120.4 120.3z m-331.4-384c-33.3 0-60.4 27.1-60.4 60.4v203.3c0 33.3 27.1 60.4 60.4 60.4h331.4c33.3 0 60.4-27.1 60.4-60.4V410.6c0-33.3-27.1-60.4-60.4-60.4H346.4z"
                          fill="#f4ea2a"
                          p-id="2467"
                        />
                        <path
                          d="M670.1 291h-60v-47.6c0-10.2-15.7-21.6-36.7-21.6H450.7c-21 0-36.7 11.4-36.7 21.6V291h-60v-47.6c0-22.9 11.4-44.9 31.2-60.2 17.8-13.8 41.1-21.4 65.5-21.4h122.7c24.4 0 47.7 7.6 65.5 21.4 19.8 15.3 31.2 37.3 31.2 60.2V291zM572.7 861.9H450c-24.4 0-47.7-7.6-65.5-21.3-19.8-15.3-31.2-37.2-31.2-60.1V733h60v47.5c0 10.1 15.7 21.4 36.7 21.4h122.7c21 0 36.7-11.3 36.7-21.4V733h60v47.5c0 22.9-11.4 44.8-31.2 60.1-17.9 13.7-41.1 21.3-65.5 21.3z"
                          fill="#f4ea2a"
                          p-id="2468"
                        />
                        <path
                          d="M369.7 512.6m-50.4 0a50.4 50.4 0 1 0 100.8 0 50.4 50.4 0 1 0-100.8 0Z"
                          fill="#f4ea2a"
                          p-id="2469"
                        />
                        <path
                          d="M511.3 512.6m-50.4 0a50.4 50.4 0 1 0 100.8 0 50.4 50.4 0 1 0-100.8 0Z"
                          fill="#f4ea2a"
                          p-id="2470"
                        />
                        <path
                          d="M652.9 512.6m-50.4 0a50.4 50.4 0 1 0 100.8 0 50.4 50.4 0 1 0-100.8 0Z"
                          fill="#f4ea2a"
                          p-id="2471"
                        />
                      </svg>
                    </el-col>
                    <el-col
                      :span="6"
                      style="width: 220px;background-color: #001468; text-align: center; border-radius: 0px 20px 20px 00px;"
                    >
                      <span style="font-size: 18px; height: 50px; line-height: 50px;">全部用户</span>
                      <!-- <br /> -->
                      <span
                        style="font-size: 21px; height: 50px; line-height: 50px; margin-left: 20px;"
                      >{{allUser}}</span>
                    </el-col>
                  </el-row>
                </div>
                <div style="height: 60px; width: 70%; margin-top: 8px; margin-left: 15%; ">
                  <el-row type="flex" justify style="height: 50px;">
                    <el-col
                      :span="1"
                      style="width: 60px;background-color: #073afa; text-align: center; "
                    >
                      <svg
                        style="text-align: center; height: 50px;"
                        t="1655109160158"
                        class="icon"
                        viewBox="0 0 1024 1024"
                        version="1.1"
                        xmlns="http://www.w3.org/2000/svg"
                        p-id="4316"
                        width="40"
                        height="40"
                      >
                        <path
                          d="M952 318.494H73.6c-27.2 59.2-41.6 124.8-41.6 193.6s14.4 134.4 41.6 193.6h876.8c27.2-59.2 41.6-124.8 41.6-193.6s-14.4-134.4-40-193.6z"
                          fill="#9DE8F7"
                          p-id="4317"
                        />
                        <path
                          d="M1024 512.094c0-283.2-228.8-512-512-512s-512 228.8-512 512c0 249.6 179.2 457.6 416 502.4l0.032 0.032c13.376 2.56 32.48 5.776 53.024 7.712 11.36 0.912 22.8 1.456 34.272 1.664 1.536 0 3.072 0.016 4.592-0.016 38.784-0.784 89.44-9.248 105.36-12.064C847.44 966.494 1024 759.822 1024 512.094z m-88-225.6h-78.4c-48-104-118.4-177.6-174.4-222.4 108.8 41.6 198.4 121.6 252.8 222.4z m-342.4-248c14.4 8 152 89.6 228.8 248h-180.8c-28.8-120-72-211.2-94.4-252.8 16 1.6 32 3.2 46.4 4.8z m16 248H416c32-129.6 80-222.4 96-251.2 16 28.8 64 121.6 97.6 251.2z m-132.8-252.8c-22.4 41.6-65.6 132.8-94.4 252.8h-180.8c76.8-158.4 216-240 228.8-248 14.4-1.6 30.4-3.2 46.4-4.8z m-136 30.4c-54.4 44.8-126.4 118.4-172.8 222.4H88c54.4-100.8 144-180.8 252.8-222.4z m-308.8 448c0-68.8 14.4-134.4 41.6-193.6H952c25.6 59.2 40 124.8 40 193.6s-14.4 134.4-41.6 193.6H73.6c-27.2-59.2-41.6-124.8-41.6-193.6z m56 225.6h76.8c46.4 102.4 115.2 176 171.2 220.8-105.6-41.6-193.6-121.6-248-220.8z m337.6 246.4c-28.8-17.6-153.6-97.6-225.6-246.4h176c19.2 83.2 51.2 168 100.8 252.8-16-1.6-33.6-3.2-51.2-6.4z m-16-246.4h204.8c-19.2 81.6-52.8 164.8-102.4 248-49.6-84.8-83.2-168-102.4-248z m136 252.8c49.6-84.8 81.6-171.2 100.8-252.8h176c-70.4 148.8-196.8 230.4-224 246.4-17.6 3.2-35.2 4.8-52.8 6.4z m142.4-32c54.4-46.4 124.8-118.4 171.2-220.8H936c-54.4 99.2-142.4 179.2-248 220.8z"
                          fill
                          p-id="4318"
                        />
                        <path
                          d="M105.6 507.198c0-19.2 3.2-35.2 8-49.6 4.8-9.6 11.2-17.6 17.6-25.6 8-8 16-12.8 24-17.6 11.2-4.8 25.6-8 41.6-8 28.8 0 51.2 8 67.2 25.6 17.6 17.6 25.6 41.6 25.6 72s-8 54.4-25.6 72c-16 17.6-38.4 25.6-67.2 25.6s-51.2-8-67.2-25.6-24-38.4-24-68.8z m40-1.6c0 22.4 4.8 38.4 14.4 49.6 9.6 11.2 22.4 16 38.4 16s27.2-4.8 38.4-16c9.6-11.2 14.4-27.2 14.4-49.6 0-22.4-4.8-38.4-14.4-49.6s-22.4-16-38.4-16-28.8 4.8-38.4 16c-9.6 11.2-14.4 27.2-14.4 49.6zM446.4 601.598h-36.8v-70.4c0-14.4 0-24-1.6-28.8s-4.8-8-8-9.6c-3.2-3.2-8-3.2-12.8-3.2-6.4 0-12.8 1.6-17.6 4.8-4.8 3.2-8 8-9.6 14.4s-3.2 16-3.2 32v62.4H320v-137.6h33.6v20.8c12.8-16 27.2-24 44.8-24 8 0 16 1.6 22.4 4.8 6.4 3.2 11.2 6.4 14.4 11.2 3.2 4.8 6.4 9.6 6.4 16 1.6 6.4 1.6 14.4 1.6 24l3.2 83.2zM483.2 601.598v-192H520v190.4h-36.8v1.6zM556.8 444.798v-33.6h36.8v33.6h-36.8z m0 156.8v-137.6h36.8v137.6h-36.8zM756.8 601.598H720v-70.4c0-14.4 0-24-1.6-28.8s-4.8-8-8-9.6c-3.2-3.2-8-3.2-12.8-3.2-6.4 0-12.8 1.6-17.6 4.8-4.8 3.2-8 8-9.6 14.4s-3.2 16-3.2 32v62.4h-36.8v-137.6H664v20.8c12.8-16 27.2-24 44.8-24 8 0 16 1.6 22.4 4.8 6.4 3.2 11.2 6.4 14.4 11.2s6.4 9.6 6.4 16c1.6 6.4 1.6 14.4 1.6 24l3.2 83.2zM873.6 556.798l36.8 6.4c-4.8 12.8-12.8 24-22.4 30.4s-22.4 11.2-38.4 11.2c-24 0-41.6-8-52.8-24-9.6-12.8-14.4-28.8-14.4-48 0-22.4 6.4-41.6 17.6-54.4 11.2-12.8 27.2-19.2 44.8-19.2 20.8 0 36.8 6.4 48 20.8 11.2 12.8 17.6 33.6 17.6 62.4h-91.2c0 11.2 3.2 19.2 9.6 25.6s12.8 9.6 20.8 9.6c6.4 0 11.2-1.6 14.4-4.8s8-8 9.6-16z m3.2-36.8c0-11.2-3.2-19.2-8-24s-11.2-8-19.2-8-14.4 3.2-19.2 8c-4.8 6.4-8 14.4-8 24h54.4z"
                          fill
                          p-id="4319"
                        />
                      </svg>
                    </el-col>
                    <el-col
                      :span="6"
                      style="width: 220px;background-color: #001468; text-align: center; border-radius: 0px 20px 20px 00px;"
                    >
                      <span style="font-size: 18px; height: 50px; line-height: 50px;">在线用户</span>
                      <!-- <br /> -->
                      <span
                        style="font-size: 21px; height: 50px; line-height: 50px; margin-left: 20px;"
                      >{{onlineNum}}</span>
                    </el-col>
                  </el-row>
                </div>
                <div style="height: 60px; width: 70%; margin-top: 8px; margin-left: 15%; ">
                  <el-row type="flex" justify style="height: 50px;">
                    <el-col
                      :span="1"
                      style="width: 60px;background-color: #073afa; text-align: center; "
                    >
                      <svg
                        style="text-align: center; height: 50px;"
                        t="1655108693595"
                        class="icon"
                        viewBox="0 0 1098 1024"
                        version="1.1"
                        xmlns="http://www.w3.org/2000/svg"
                        p-id="3358"
                        width="40"
                        height="40"
                      >
                        <path
                          d="M387.638958 625.365762c-172.41927 0-312.676732-140.208266-312.676732-312.676731S215.170492 0 387.638958 0s312.676732 140.269761 312.676732 312.689031-140.269761 312.676732-312.676732 312.676731z m0-554.17932c-133.160956 0-241.502588 108.341633-241.502588 241.502589s108.341633 241.490289 241.502588 241.490289 241.490289-108.329334 241.490289-241.490289S520.799914 71.186442 387.638958 71.186442z"
                          p-id="3359"
                          fill="#fe4b4e"
                        />
                        <path
                          d="M739.684695 1024a35.593221 35.593221 0 0 1-35.593221-35.593221c0-174.485497-141.967019-316.452516-316.452516-316.452516s-316.452516 141.967019-316.452516 316.452516a35.593221 35.593221 0 0 1-71.186442 0c0-213.743811 173.895146-387.638958 387.638958-387.638958s387.626659 173.895146 387.626659 387.638958a35.593221 35.593221 0 0 1-35.580922 35.593221zM664.722468 635.610805a35.593221 35.593221 0 0 1 0-71.186442c133.160956 0 241.490289-108.329334 241.49029-241.49029S797.883424 81.431485 664.722468 81.431485a35.593221 35.593221 0 1 1 0-71.174143c172.394672 0.036897 312.676732 140.245163 312.676732 312.676731S837.11714 635.610805 664.722468 635.610805z"
                          p-id="3360"
                          fill="#fe4b4e"
                        />
                        <path
                          d="M1063.098428 1019.252597a35.593221 35.593221 0 0 1-35.593221-35.593221c0-203.203594-149.174215-345.109117-362.819635-345.109117a35.593221 35.593221 0 0 1 0-71.186442c118.562077 0 227.297277 39.860964 306.24437 112.265004a384.281339 384.281339 0 0 1 93.718156 132.078646c22.593209 52.479708 34.043551 110.334066 34.043551 171.951909a35.593221 35.593221 0 0 1-35.593221 35.593221z"
                          p-id="3361"
                          fill="#fe4b4e"
                        />
                      </svg>
                    </el-col>
                    <el-col
                      :span="6"
                      style="width: 220px;background-color: #001468; text-align: center; border-radius: 0px 20px 20px 00px;"
                    >
                      <span style="font-size: 18px; height: 50px; line-height: 50px;">小组数</span>
                      <!-- <br /> -->
                      <span
                        style="font-size: 21px; height: 50px; line-height: 50px; margin-left: 20px;"
                      >{{groupNum}}</span>
                    </el-col>
                  </el-row>
                </div>
                <div style="height: 60px; width: 70%; margin-top: 8px; margin-left: 15%; ">
                  <el-row type="flex" justify style="height: 50px;">
                    <el-col
                      :span="1"
                      style="width: 60px;background-color: #073afa; text-align: center; "
                    >
                      <svg
                        style="text-align: center; height: 50px;"
                        t="1655108403250"
                        class="icon"
                        viewBox="0 0 1024 1024"
                        version="1.1"
                        xmlns="http://www.w3.org/2000/svg"
                        p-id="2885"
                        width="40"
                        height="40"
                      >
                        <path
                          d="M980.864 584.96a473.696 473.696 0 0 1-395.936 400.928v36.608H439.04V985.92A473.664 473.664 0 0 1 43.136 584.864h-41.6v-145.76h43.328A473.92 473.92 0 0 1 439.072 50.176V1.504h145.888v48.768A474.016 474.016 0 0 1 979.168 439.04h43.328v145.92h-41.632zM475.552 977.216h72.96v-72.928h-72.96v72.928z m-428.8-501.664v72.928h72.96v-72.928h-72.96z m501.76-428.768h-72.96v72.928h72.96V46.784z m33.152 77.152v40.032h-139.328v-40a400.64 400.64 0 0 0-323.68 318.656h45.024v139.328H116.768a400.416 400.416 0 0 0 325.568 330.208v-51.584h139.328v51.584a400.416 400.416 0 0 0 325.568-330.208h-46.912v-139.328h45.088a400.864 400.864 0 0 0-323.744-318.656v-0.032z m395.584 351.616h-72.992v72.928h72.992v-72.928z"
                          p-id="2886"
                          fill="#00f3e6"
                        />
                        <path
                          d="M285.12 512a226.88 226.88 0 1 0 453.792 0A226.88 226.88 0 0 0 285.12 512"
                          p-id="2887"
                          fill="#00f3e6"
                        />
                      </svg>
                    </el-col>
                    <el-col
                      :span="6"
                      style="width: 220px;background-color: #001468; text-align: center; border-radius: 0px 20px 20px 00px;"
                    >
                      <span style="font-size: 18px; height: 50px; line-height:50px;">电子围栏</span>
                      <!-- <br /> -->
                      <span
                        style="font-size: 21px; height: 50px; line-height: 50px; margin-left: 20px;"
                      >{{fenceNum}}</span>
                    </el-col>
                  </el-row>
                </div>
              </div>
              <div
                class="title"
                style="text-align: center;
               color: #00f6ff; font-size: 23px; line-height: 80px; height: 80px;"
                v-if="alertTitle"
              >
                <img src="@/assets/img/icon05.png" alt style="margin-top:10px;" />
                今日报警（{{alertInfo.length}}条）
                <svg
                  @click="startSearch1"
                  style="float: right; margin-right: 15px; height: 80px; line-height: 80px;"
                  t="1655345322360"
                  class="icon"
                  viewBox="0 0 1024 1024"
                  version="1.1"
                  xmlns="http://www.w3.org/2000/svg"
                  p-id="2143"
                  width="20"
                  height="20"
                >
                  <path
                    d="M912.072815 946.738335c-4.78498 0-9.56996-1.824555-13.220093-5.475711L650.662083 693.076078c-0.285502-0.285502-0.561795-0.579191-0.827855-0.883113l-6.979972-7.948019c-6.671956-7.594979-6.096858-19.11843 1.297552-26.012444 32.130791-29.958312 57.424874-65.413825 75.181283-105.379049 18.374486-41.35692 27.691689-85.472674 27.691689-131.122363 0-86.355787-33.628912-167.542854-94.691639-228.604558-61.062727-61.062727-142.249795-94.691639-228.604558-94.691639s-167.541831 33.628912-228.604558 94.691639c-61.062727 61.062727-94.691639 142.249795-94.691639 228.604558s33.628912 167.542854 94.691639 228.604558c61.062727 61.062727 142.249795 94.691639 228.604558 94.691639 26.15059 0 52.16508-3.130294 77.326133-9.301853 5.090948-1.353834 73.4038-19.189038 120.842229-14.809287 10.282181 0.948605 17.847483 10.05296 16.899902 20.335141s-10.047844 17.853623-20.335141 16.899902c-41.659819-3.845585-107.272165 13.571087-107.930151 13.747095-0.125867 0.033769-0.251733 0.065492-0.3776 0.097214-28.132734 6.91755-57.20998 10.425444-86.425372 10.425444-48.684816 0-95.922676-9.538237-140.402727-28.352745-42.953278-18.166755-81.523735-44.172035-114.644063-77.290317-33.119305-33.119305-59.123562-71.691809-77.29134-114.644063-18.813484-44.479027-28.352745-91.716888-28.352745-140.401704s9.53926-95.922676 28.352745-140.402727c18.167778-42.953278 44.172035-81.524758 77.29134-114.644063 33.119305-33.119305 71.690786-59.123562 114.644063-77.29134 44.480051-18.813484 91.717911-28.352745 140.402727-28.352745s95.922676 9.53926 140.401704 28.352745c42.953278 18.167778 81.524758 44.173059 114.644063 77.29134 33.118282 33.119305 59.123562 71.690786 77.29134 114.644063 18.813484 44.480051 28.351722 91.717911 28.351722 140.402727 0 50.912553-10.399861 100.136651-30.91101 146.305157-17.285688 38.906102-40.96704 73.973782-70.526263 104.47547l242.313791 242.310721c7.302313 7.30129 7.302313 19.138896 0.001023 26.440186C921.642774 944.912757 916.857794 946.738335 912.072815 946.738335z"
                    p-id="2144"
                    fill="#e6e6e6"
                  />
                  <path
                    d="M165.576059 421.887656c-0.696872 0-1.400906-0.038886-2.110057-0.118704-10.260691-1.152243-17.645892-10.404977-16.493649-20.666692 4.838192-43.080168 17.974373-83.934644 39.046295-121.429607 5.058203-9.002025 16.457834-12.19781 25.458835-7.139607 9.002025 5.058203 12.19781 16.45681 7.139607 25.458835-18.605753 33.108049-30.207999 69.202105-34.484396 107.282399C183.060269 414.827867 174.967964 421.887656 165.576059 421.887656z"
                    p-id="2145"
                    fill="#e6e6e6"
                  />
                </svg>
              </div>
              <div v-if="!alertTitle" style="height: 80px; line-height: 80px;">
                <input
                  @input="inputChange1"
                  class="input"
                  v-model="alertSearch"
                  placeholder="请输入手环名搜索"
                />
                <svg
                  @click="change1"
                  style="margin-top: 2px; margin-left: 10px;"
                  t="1655345531987"
                  class="icon"
                  viewBox="0 0 1024 1024"
                  version="1.1"
                  xmlns="http://www.w3.org/2000/svg"
                  p-id="2622"
                  width="20"
                  height="20"
                >
                  <path
                    d="M512 0C230.4 0 0 230.4 0 512c0 281.6 230.4 512 512 512 281.6 0 512-230.4 512-512C1024 230.4 793.6 0 512 0zM512 985.6c-262.4 0-473.6-211.2-473.6-473.6 0-262.4 211.2-473.6 473.6-473.6 262.4 0 473.6 211.2 473.6 473.6C985.6 774.4 774.4 985.6 512 985.6zM768 256c-6.4-6.4-19.2-6.4-25.6 0L512 486.4 288 256C281.6 249.6 268.8 249.6 256 256 249.6 268.8 249.6 281.6 256 288L486.4 512 256 736c-6.4 6.4-6.4 19.2 0 25.6 6.4 6.4 6.4 6.4 12.8 6.4 6.4 0 12.8 0 12.8-6.4L512 537.6l224 224c6.4 6.4 6.4 6.4 12.8 6.4 6.4 0 12.8 0 12.8-6.4 6.4-6.4 6.4-19.2 0-25.6L537.6 512 768 288C774.4 281.6 774.4 268.8 768 256z"
                    p-id="2623"
                    fill="#8a8a8a"
                  />
                </svg>
              </div>
            </div>
            <div class="bottom" v-if="alertShow">
              <vue-seamless-scroll :data="data1" class="seamless-warp">
                <div class="cardList" v-for="(item,index) in data1" :key="index">
                  <p style="color: #fff; font-size: 15px; margin-left: 20px;">
                    <span>{{index+1}}、</span>
                    <span style="margin-top: 20px;">{{item.productName}}____{{item.deviceName}}</span>
                  </p>
                  <p style="margin-left: 20px;">
                    <span style="color: #fff; font-size: 15px; line-height: 30px;">报警内容:</span>

                    <span
                      style="color: #e29755; font-size: 17px;line-height: 30px;"
                    >{{item.Content}}</span>
                    <!-- <br /> -->
                    <span
                      style="color: #fff; font-size: 15px; float: right; margin-right: 20px;line-height: 30px;"
                    >{{item.date}}</span>
                  </p>

                  <div class="divider" style="margin-left: 10%;"></div>
                </div>
              </vue-seamless-scroll>
            </div>
            <div v-if="!alertShow" style="text-align: center;">
              <svg
                style="margin-top: 100px;"
                t="1655342118838"
                class="icon"
                viewBox="0 0 1024 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                p-id="3619"
                width="120"
                height="120"
              >
                <path
                  d="M1022.976 558.976a463.808 463.808 0 0 1-463.872 463.872H464.896A463.808 463.808 0 0 1 1.024 558.976V464.96A463.872 463.872 0 0 1 464.896 1.088h94.208a463.936 463.936 0 0 1 463.872 463.872v94.016z"
                  fill="#42BAA8"
                  p-id="3620"
                />
                <path d="M628.096 176H256v661.824h512V315.328z" fill="#FCFCFD" p-id="3621" />
                <path d="M628.096 315.328H768L628.096 176z" fill="#F1F3F7" p-id="3622" />
                <path
                  d="M419.072 446.528H316.416V343.808h102.656v102.72z m-84.096-18.56h65.6V362.368H334.976v65.6z"
                  fill="#42BAA8"
                  p-id="3623"
                />
                <path
                  d="M461.504 351.936h246.144v24.384H461.504zM461.504 414.016h180.48v24.384h-180.48z"
                  fill="#42BAA8"
                  p-id="3624"
                />
                <path
                  d="M419.072 615.424H316.416V512.704h102.656v102.72z m-84.096-18.496h65.6V531.328H334.976v65.6z"
                  fill="#42BAA8"
                  p-id="3625"
                />
                <path
                  d="M461.504 520.832h246.144v24.384H461.504zM461.504 582.848h180.48v24.448h-180.48z"
                  fill="#42BAA8"
                  p-id="3626"
                />
                <path
                  d="M419.072 784.448H316.416v-102.656h102.656v102.656z m-84.096-18.624h65.6V700.16H334.976v65.664z"
                  fill="#42BAA8"
                  p-id="3627"
                />
                <path
                  d="M461.504 689.28h246.144v24.384H461.504zM461.504 751.296h180.48v24.384h-180.48z"
                  fill="#42BAA8"
                  p-id="3628"
                />
                <path
                  d="M339.008 379.776l30.208 42.368 66.176-74.88-66.816 57.472z"
                  fill="#F0582F"
                  p-id="3629"
                />
              </svg>
              <p style="color: #31baa8">今日暂无报警</p>
            </div>
          </div>
        </el-col>
        <el-col :span="12" class="map">
          <div
            class="title"
            style="position: absolute; top: 5px; left: 40%;
          color: #00f6ff; font-size: 23px; line-height: 70px; height: 70px;"
          >
            <img src="@/assets/img/icon03.png" alt style="margin-top:10px;" />
            平台数据分布
          </div>
          <div class="map1">
            <img src="@/assets/img/lbx.png" />
          </div>
          <div class="map2">
            <img src="@/assets/img/jt.png" />
          </div>
          <div class="map3">
            <img src="@/assets/img/map.png" />
          </div>
          <div id="mapBody"></div>
        </el-col>
        <el-col :span="6">
          <div class="right">
            <div class="top" v-if="productShow">
              <div
                class="title"
                style="text-align: center;
               color: #00f6ff; font-size: 23px; line-height: 80px; height: 80px;"
              >
                <img src="@/assets/img/icon06.png" alt style="margin-top:10px;" />
                数据统计
                <span style = "height: 80px; line-height: 80px; float: right; margin-right: 30px;">
                    <svg v-if = "tableShow" @click = "switch1"  t="1655628773853" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="18381" width="20" height="20"><path d="M960 672H64a32 32 0 0 1-32-32v-256a32 32 0 0 1 32-32h896a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32zM96 608h832v-192H96z" fill="#1296db" p-id="18382"></path><path d="M896 928H128a32 32 0 0 1-32-32v-256a32 32 0 0 1 64 0v224h704v-224a32 32 0 0 1 64 0v256a32 32 0 0 1-32 32zM896 416a32 32 0 0 1-32-32V160H160v224a32 32 0 0 1-64 0V128a32 32 0 0 1 32-32h768a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32z" fill="#1296db" p-id="18383"></path><path d="M448 288H256a32 32 0 0 1 0-64h192a32 32 0 0 1 0 64zM768 288h-192a32 32 0 0 1 0-64h192a32 32 0 0 1 0 64zM448 800H256a32 32 0 0 1 0-64h192a32 32 0 0 1 0 64zM768 800h-192a32 32 0 0 1 0-64h192a32 32 0 0 1 0 64zM448 544H192a32 32 0 0 1 0-64h256a32 32 0 0 1 0 64zM832 544h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 0 64z" fill="#1296db" p-id="18384"></path></svg>
               <svg  v-if = "scrollShow" @click = "switch2" t="1655731396421" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="19554" width="20" height="20"><path d="M1001.951626 1001.951626H22.048374V22.048374h979.903252v979.903252" fill="#FFFFFF" p-id="19555"></path><path d="M1001.951626 1024H22.048374a22.048374 22.048374 0 0 1-22.048374-22.048374V22.048374a22.048374 22.048374 0 0 1 22.048374-22.048374h979.903252a22.048374 22.048374 0 0 1 22.048374 22.048374v979.903252a22.048374 22.048374 0 0 1-22.048374 22.048374zM44.096749 979.903251h935.806502V44.096749H44.096749z" fill="#888888" p-id="19556"></path><path d="M22.048374 22.048374h979.903252v256.643078H22.048374z" fill="#04BEBD" p-id="19557"></path><path d="M1001.951626 300.739826H22.048374a22.048374 22.048374 0 0 1-22.048374-22.048374V22.048374a22.048374 22.048374 0 0 1 22.048374-22.048374h979.903252a22.048374 22.048374 0 0 1 22.048374 22.048374v256.643078a22.048374 22.048374 0 0 1-22.048374 22.048374zM44.096749 256.643078h935.806502V44.096749H44.096749z" fill="#888888" p-id="19558"></path><path d="M901.190555 546.72619H119.722673a22.048374 22.048374 0 0 1 0-44.096749h781.467882a22.048374 22.048374 0 0 1 0 44.096749zM901.190555 784.334171H119.722673a22.048374 22.048374 0 1 1 0-44.096749h781.467882a22.048374 22.048374 0 0 1 0 44.096749z" fill="#CCCCCC" p-id="19559"></path><path d="M673.357353 932.352257a22.048374 22.048374 0 0 1-22.048374-22.048374v-540.185172a22.048374 22.048374 0 0 1 44.096748 0v540.185172a22.048374 22.048374 0 0 1-22.048374 22.048374zM347.555875 932.352257a22.048374 22.048374 0 0 1-22.048375-22.048374v-540.185172a22.048374 22.048374 0 0 1 44.096749 0v540.185172a22.048374 22.048374 0 0 1-22.048374 22.048374z" fill="#CCCCCC" p-id="19560"></path></svg>
                </span>
              </div>
              <div style = "heigth: 40px; margin-bottom: 45px; margin-top: -10px; text-align: right;">
                            <svg
                v-if="!inputShow"
                @click="startSearch"
                t="1655345322360"
                class="icon"
                viewBox="0 0 1024 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                p-id="2143"
                width="20"
                height="20"
              >
                <path
                  d="M912.072815 946.738335c-4.78498 0-9.56996-1.824555-13.220093-5.475711L650.662083 693.076078c-0.285502-0.285502-0.561795-0.579191-0.827855-0.883113l-6.979972-7.948019c-6.671956-7.594979-6.096858-19.11843 1.297552-26.012444 32.130791-29.958312 57.424874-65.413825 75.181283-105.379049 18.374486-41.35692 27.691689-85.472674 27.691689-131.122363 0-86.355787-33.628912-167.542854-94.691639-228.604558-61.062727-61.062727-142.249795-94.691639-228.604558-94.691639s-167.541831 33.628912-228.604558 94.691639c-61.062727 61.062727-94.691639 142.249795-94.691639 228.604558s33.628912 167.542854 94.691639 228.604558c61.062727 61.062727 142.249795 94.691639 228.604558 94.691639 26.15059 0 52.16508-3.130294 77.326133-9.301853 5.090948-1.353834 73.4038-19.189038 120.842229-14.809287 10.282181 0.948605 17.847483 10.05296 16.899902 20.335141s-10.047844 17.853623-20.335141 16.899902c-41.659819-3.845585-107.272165 13.571087-107.930151 13.747095-0.125867 0.033769-0.251733 0.065492-0.3776 0.097214-28.132734 6.91755-57.20998 10.425444-86.425372 10.425444-48.684816 0-95.922676-9.538237-140.402727-28.352745-42.953278-18.166755-81.523735-44.172035-114.644063-77.290317-33.119305-33.119305-59.123562-71.691809-77.29134-114.644063-18.813484-44.479027-28.352745-91.716888-28.352745-140.401704s9.53926-95.922676 28.352745-140.402727c18.167778-42.953278 44.172035-81.524758 77.29134-114.644063 33.119305-33.119305 71.690786-59.123562 114.644063-77.29134 44.480051-18.813484 91.717911-28.352745 140.402727-28.352745s95.922676 9.53926 140.401704 28.352745c42.953278 18.167778 81.524758 44.173059 114.644063 77.29134 33.118282 33.119305 59.123562 71.690786 77.29134 114.644063 18.813484 44.480051 28.351722 91.717911 28.351722 140.402727 0 50.912553-10.399861 100.136651-30.91101 146.305157-17.285688 38.906102-40.96704 73.973782-70.526263 104.47547l242.313791 242.310721c7.302313 7.30129 7.302313 19.138896 0.001023 26.440186C921.642774 944.912757 916.857794 946.738335 912.072815 946.738335z"
                  p-id="2144"
                  fill="#e6e6e6"
                />
                <path
                  d="M165.576059 421.887656c-0.696872 0-1.400906-0.038886-2.110057-0.118704-10.260691-1.152243-17.645892-10.404977-16.493649-20.666692 4.838192-43.080168 17.974373-83.934644 39.046295-121.429607 5.058203-9.002025 16.457834-12.19781 25.458835-7.139607 9.002025 5.058203 12.19781 16.45681 7.139607 25.458835-18.605753 33.108049-30.207999 69.202105-34.484396 107.282399C183.060269 414.827867 174.967964 421.887656 165.576059 421.887656z"
                  p-id="2145"
                  fill="#e6e6e6"
                />
              </svg>
              </div>
  <div  style = "margin-top: -45px;">
              <input
                v-if="inputShow"
                @input="inputChange"
                class="input"
                v-model="productSearch"
                placeholder="请输入手环名搜索"
              />
              <svg
                v-if="inputShow"
                @click="change"
                style="margin-top: 2px; margin-left: 10px;"
                t="1655345531987"
                class="icon"
                viewBox="0 0 1024 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                p-id="2622"
                width="20"
                height="20"
              >
                <path
                  d="M512 0C230.4 0 0 230.4 0 512c0 281.6 230.4 512 512 512 281.6 0 512-230.4 512-512C1024 230.4 793.6 0 512 0zM512 985.6c-262.4 0-473.6-211.2-473.6-473.6 0-262.4 211.2-473.6 473.6-473.6 262.4 0 473.6 211.2 473.6 473.6C985.6 774.4 774.4 985.6 512 985.6zM768 256c-6.4-6.4-19.2-6.4-25.6 0L512 486.4 288 256C281.6 249.6 268.8 249.6 256 256 249.6 268.8 249.6 281.6 256 288L486.4 512 256 736c-6.4 6.4-6.4 19.2 0 25.6 6.4 6.4 6.4 6.4 12.8 6.4 6.4 0 12.8 0 12.8-6.4L512 537.6l224 224c6.4 6.4 6.4 6.4 12.8 6.4 6.4 0 12.8 0 12.8-6.4 6.4-6.4 6.4-19.2 0-25.6L537.6 512 768 288C774.4 281.6 774.4 268.8 768 256z"
                  p-id="2623"
                  fill="#8a8a8a"
                />
              </svg>
              </div>
              <el-table
                 v-if = "tableShow"
                :data="data"
                class="productList"
                height="85%"
                :header-cell-style="{ color: '#a38972', background: '#001066',borderBottom:'1px solid #131b52' }"
                :cell-style="{ color: '#fff', background: '#00093e',borderBottom:'1px solid #131b52'}"
              >
                <el-table-column label="手环名" align="center" prop="productName">
                  <template slot="header" slot-scope="scope">
                    <div v-show="show">
                      <el-row type="flex" justify="center">
                        <el-col :span="20">手环名</el-col>
                        <el-col :span="4">
                          <svg
                            t="1655362848055"
                            @click="startSelect"
                            class="icon"
                            viewBox="0 0 1024 1024"
                            version="1.1"
                            xmlns="http://www.w3.org/2000/svg"
                            p-id="4588"
                            width="20"
                            height="20"
                          >
                            <path
                              d="M1024 789.333333v-554.666666A64 64 0 0 0 960 170.666667h-896A64 64 0 0 0 0 234.666667v554.666666A64 64 0 0 0 64 853.333333h896a64 64 0 0 0 64-64z m-85.333333-21.333333H85.333333V256h853.333334v512z"
                              p-id="4589"
                              fill="#8a8a8a"
                            />
                            <path
                              d="M762.282667 590.421333a21.12 21.12 0 0 1-31.232 0l-78.08-83.285333a49.365333 49.365333 0 0 1 0-66.645333 42.24 42.24 0 0 1 62.464 0l31.232 33.28 31.232-33.28a42.24 42.24 0 0 1 62.506666 0c17.237333 18.346667 17.237333 48.213333 0 66.645333l-78.08 83.285333z"
                              p-id="4590"
                              fill="#8a8a8a"
                            />
                          </svg>
                          <!-- <svg @click="show = !show" t="1655347950735" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3632" width="20" height="20"><path d="M775.768 778.112H287.84a38.576 38.576 0 0 1-38.712-38.68v-487.92a38.6 38.6 0 0 1 38.712-38.72h487.92a38.608 38.608 0 0 1 38.704 38.72v487.912a38.608 38.608 0 0 1-38.696 38.688z m-485.568-41.08h483.184V253.864H290.2v483.168z" p-id="3633" fill="#8a8a8a"></path><path d="M650.024 383.936L490.784 543.176a15.52 15.52 0 0 1-22.04 0l-55.192-55.184a23.376 23.376 0 0 0-33.144 0 23.36 23.36 0 0 0 0 33.152l66.312 66.32 22.024 22.04a15.496 15.496 0 0 0 22.04 0L683.2 417.104a23.376 23.376 0 0 0 0-33.168 23.384 23.384 0 0 0-33.176 0z" p-id="3634" fill="#8a8a8a"></path></svg> -->
                          <!-- <i class="el-icon-search" @click="show = !show"></i> -->
                        </el-col>
                      </el-row>
                    </div>
                    <div v-show="!show">
                      <select
                        class="select"
                        v-model="whichGroup"
                        placeholder="请选择组"
                        @change="grouping"
                      >
                        <option
                          v-for="item in groups"
                          :key="item.value"
                          :label="item.label"
                          :value="item.value"
                        ></option>
                      </select>
                    </div>
                  </template>
                </el-table-column>
                <el-table-column label="体温" align="center" prop="latestData.body"></el-table-column>
                <el-table-column label="心率" align="center" prop="latestData.heartRate"></el-table-column>
                <el-table-column label="详情" align="center">
                  <template slot-scope="scope">
                    <svg
                      @click="detailproduct(scope.row)"
                      t="1655367341406"
                      class="icon"
                      viewBox="0 0 1024 1024"
                      version="1.1"
                      xmlns="http://www.w3.org/2000/svg"
                      p-id="5707"
                      width="20"
                      height="20"
                    >
                      <path
                        d="M747.7 288.2c0-17.6-14.4-32.1-32.1-32.1H306.4c-17.6 0-32.1 14.4-32.1 32.1 0 17.6 14.4 32.1 32.1 32.1h409.2c17.7 0 32.1-14.5 32.1-32.1zM306.4 448c-17.6 0-32.1 14.4-32.1 32.1 0 17.6 14.4 32.1 32.1 32.1h191.1c17.7 0 32.2-14.4 32.1-32.1 0-17.6-14.4-32.1-32.1-32.1H306.4zM766.6 776.8c-2.1-2.1-4.4-3.9-6.9-5.2 18.1-25.8 28.7-57.1 28.7-90.9 0-88.2-72.4-159.6-161.7-159.6S465 592.5 465 680.7s72.4 159.6 161.7 159.6c32.7 0 63.2-9.6 88.7-26.1 1.5 2.9 3.4 5.6 5.8 8l83.3 83.3c12.5 12.5 32.9 12.5 45.4 0s12.5-32.9 0-45.4l-83.3-83.3z m-139.9 0.6c-54.1 0-98-43.3-98-96.7s43.9-96.7 98-96.7 98 43.3 98 96.7c0 53.4-43.8 96.7-98 96.7z"
                        fill="#00c4c1"
                        p-id="5708"
                      />
                      <path
                        d="M577.6 895.4H221.2c-35.2 0-64-28.8-64-64V192.8c0-35.2 28.8-64 64-64h547.3c35.2 0 64 28.8 64 64v318.4h0.3v0.1c0 17.7 14.4 32.1 32.2 32.1s32.2-14.4 32.2-32.1c0-1.2-0.1-2.3-0.2-3.5v-316c0-70.4-27.6-128-98-128H225c-70.4 0-128 57.6-128 128v639.8c0 70.4 57.6 128 128 128h352.2c17.8 0 32.2-14.4 32.2-32.1 0-17.6-14.2-31.9-31.8-32.1z"
                        fill="#00c4c1"
                        p-id="5709"
                      />
                      <path
                        d="M832.7 639.3a32.2 32.1 0 1 0 64.4 0 32.2 32.1 0 1 0-64.4 0Z"
                        fill="#00c4c1"
                        p-id="5710"
                      />
                    </svg>
                  </template>
                </el-table-column>
              </el-table>
              <div v-if = "scrollShow" class="title1" style = "background-color: #000b64; color: #a08672; height: 45px;  font-size: 15px; line-height: 45px; font-weight: 700">
                    <el-row type="flex" justify="" style = "text-align: center" >
                        <el-col :span="8">
                               <div v-show="show">
                      <el-row type="flex" justify="center" >
                        <el-col :span="20">手环名</el-col>
                        <el-col :span="4">
                          <svg
                            t="1655362848055"
                            @click="startSelect"
                            class="icon"
                            viewBox="0 0 1024 1024"
                            version="1.1"
                            xmlns="http://www.w3.org/2000/svg"
                            p-id="4588"
                            width="20"
                            height="20"
                          >
                            <path
                              d="M1024 789.333333v-554.666666A64 64 0 0 0 960 170.666667h-896A64 64 0 0 0 0 234.666667v554.666666A64 64 0 0 0 64 853.333333h896a64 64 0 0 0 64-64z m-85.333333-21.333333H85.333333V256h853.333334v512z"
                              p-id="4589"
                              fill="#8a8a8a"
                            />
                            <path
                              d="M762.282667 590.421333a21.12 21.12 0 0 1-31.232 0l-78.08-83.285333a49.365333 49.365333 0 0 1 0-66.645333 42.24 42.24 0 0 1 62.464 0l31.232 33.28 31.232-33.28a42.24 42.24 0 0 1 62.506666 0c17.237333 18.346667 17.237333 48.213333 0 66.645333l-78.08 83.285333z"
                              p-id="4590"
                              fill="#8a8a8a"
                            />
                          </svg>
                          <!-- <svg @click="show = !show" t="1655347950735" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3632" width="20" height="20"><path d="M775.768 778.112H287.84a38.576 38.576 0 0 1-38.712-38.68v-487.92a38.6 38.6 0 0 1 38.712-38.72h487.92a38.608 38.608 0 0 1 38.704 38.72v487.912a38.608 38.608 0 0 1-38.696 38.688z m-485.568-41.08h483.184V253.864H290.2v483.168z" p-id="3633" fill="#8a8a8a"></path><path d="M650.024 383.936L490.784 543.176a15.52 15.52 0 0 1-22.04 0l-55.192-55.184a23.376 23.376 0 0 0-33.144 0 23.36 23.36 0 0 0 0 33.152l66.312 66.32 22.024 22.04a15.496 15.496 0 0 0 22.04 0L683.2 417.104a23.376 23.376 0 0 0 0-33.168 23.384 23.384 0 0 0-33.176 0z" p-id="3634" fill="#8a8a8a"></path></svg> -->
                          <!-- <i class="el-icon-search" @click="show = !show"></i> -->
                        </el-col>
                      </el-row>
                    </div>
                    <div v-show="!show" style = "margin-top: 13px;">
                      <select
                        class="select"
                        v-model="whichGroup"
                        placeholder="请选择组"
                        @change="grouping"
                      >
                        <option
                          v-for="item in groups"
                          :key="item.value"
                          :label="item.label"
                          :value="item.value"
                        ></option>
                      </select>
                    </div>
                        </el-col>
                        <el-col :span="8">体温</el-col>
                        <el-col :span="8">心率</el-col>
                        <el-col :span="8">详情</el-col>
                    </el-row>
                </div>
              <div v-if = "scrollShow" class="seamless-warp" >
                
                  <vue-seamless-scroll  :data="data"  >
               <div style = "height: 50px; line-height: 50px; border-bottom: 1px solid #121951; background-color: #00073d"  v-for="(item,index) in data" :key="index" >
                   <el-row type="flex" justify=""  style = "text-align: center; color: #fff">
                       <el-col :span="8" style = "font-size: 14px;">  {{item.productName}}</el-col>
                       <el-col :span="8">{{item.latestData.body}}</el-col>
                       <el-col :span="8">{{item.latestData.heartRate}}</el-col>
                       <el-col :span="8">
                              <svg
                      @click="detailproduct(item)"
                      t="1655367341406"
                      class="icon"
                      viewBox="0 0 1024 1024"
                      version="1.1"
                      xmlns="http://www.w3.org/2000/svg"
                      p-id="5707"
                      width="20"
                      height="20"
                    >
                      <path
                        d="M747.7 288.2c0-17.6-14.4-32.1-32.1-32.1H306.4c-17.6 0-32.1 14.4-32.1 32.1 0 17.6 14.4 32.1 32.1 32.1h409.2c17.7 0 32.1-14.5 32.1-32.1zM306.4 448c-17.6 0-32.1 14.4-32.1 32.1 0 17.6 14.4 32.1 32.1 32.1h191.1c17.7 0 32.2-14.4 32.1-32.1 0-17.6-14.4-32.1-32.1-32.1H306.4zM766.6 776.8c-2.1-2.1-4.4-3.9-6.9-5.2 18.1-25.8 28.7-57.1 28.7-90.9 0-88.2-72.4-159.6-161.7-159.6S465 592.5 465 680.7s72.4 159.6 161.7 159.6c32.7 0 63.2-9.6 88.7-26.1 1.5 2.9 3.4 5.6 5.8 8l83.3 83.3c12.5 12.5 32.9 12.5 45.4 0s12.5-32.9 0-45.4l-83.3-83.3z m-139.9 0.6c-54.1 0-98-43.3-98-96.7s43.9-96.7 98-96.7 98 43.3 98 96.7c0 53.4-43.8 96.7-98 96.7z"
                        fill="#00c4c1"
                        p-id="5708"
                      />
                      <path
                        d="M577.6 895.4H221.2c-35.2 0-64-28.8-64-64V192.8c0-35.2 28.8-64 64-64h547.3c35.2 0 64 28.8 64 64v318.4h0.3v0.1c0 17.7 14.4 32.1 32.2 32.1s32.2-14.4 32.2-32.1c0-1.2-0.1-2.3-0.2-3.5v-316c0-70.4-27.6-128-98-128H225c-70.4 0-128 57.6-128 128v639.8c0 70.4 57.6 128 128 128h352.2c17.8 0 32.2-14.4 32.2-32.1 0-17.6-14.2-31.9-31.8-32.1z"
                        fill="#00c4c1"
                        p-id="5709"
                      />
                      <path
                        d="M832.7 639.3a32.2 32.1 0 1 0 64.4 0 32.2 32.1 0 1 0-64.4 0Z"
                        fill="#00c4c1"
                        p-id="5710"
                      />
                    </svg>
                       </el-col>
                   </el-row>
               </div>

  
         
              </vue-seamless-scroll>
              </div>
            </div>
            <div class="top" v-if="!productShow">
              <div
                class="title"
                style="text-align: center;
               color: #00f6ff; font-size: 23px; line-height: 80px; height: 80px;"
              >
                <img src="@/assets/img/icon06.png" alt style="margin-top:10px;" />
                数据统计
              </div>

              <div style="text-align: center;">
                <svg
                  t="1655173791112"
                  class="icon"
                  viewBox="0 0 1024 1024"
                  version="1.1"
                  xmlns="http://www.w3.org/2000/svg"
                  p-id="6840"
                  width="120"
                  height="120"
                >
                  <path
                    d="M560 800l-10.464-416h-75.072L464 800h96z m-14.144-493.984c9.44-9.312 14.144-20.672 14.144-34.016 0-13.6-4.704-24.992-14.144-34.208A46.784 46.784 0 0 0 512 224c-13.12 0-24.448 4.608-33.856 13.792A45.856 45.856 0 0 0 464 272c0 13.344 4.704 24.704 14.144 34.016 9.408 9.312 20.704 13.984 33.856 13.984 13.12 0 24.448-4.672 33.856-13.984zM512 32C246.912 32 32 246.912 32 512c0 265.088 214.912 480 480 480 265.088 0 480-214.912 480-480 0-265.088-214.912-480-480-480z m0 64c229.76 0 416 186.24 416 416s-186.24 416-416 416S96 741.76 96 512 282.24 96 512 96z"
                    p-id="6841"
                    fill="#4e8e8f"
                  />
                </svg>
                <p style="color: #4e8e8f; font-size: 30px; ">当前手环为空</p>
              </div>
            </div>
            <div id="bottom">
              <div v-if="overallShow">
                <h4 style="color: #00f6fe">
                  <span style="font-size: 18px; margin-left: 30px;">{{whichProduct.productName}}</span>
                  <span style="font-size: 16px; margin-left: 10px;">
                    <el-tag
                      effect="dark"
                      size="mini"
                      :type="
                                  whichProduct.extraInfo.status == '在线'
                                ? 'success'
                                : whichProduct.extraInfo.status == '离线'?'danger':'info'
                                "
                      disable-transitions
                    >{{whichProduct.extraInfo.status}}</el-tag>
                  </span>
                </h4>
                <el-row>
                  <el-col :span="7" :offset="1">
                    <div class="card" style="cursor: pointer" @click="wenduDetails">
                      <a
                        style="color: #fff;font-size: 15px; line-height: 40px; cursor: pointer"
                        class="title"
                      >温度</a>
                      <br />
                      <span
                        style="color:#00A8FE;font-size:18px;font-weight:600;line-height: 40px;"
                      >{{whichProduct.latestData.body}}</span>
                    </div>
                  </el-col>
                  <el-col :span="7" class="card">
                    <div class="card" style="cursor: pointer" @click="xinlvDetails">
                      <a style="color: #fff;font-size: 15px;line-height: 40px;cursor: pointer">心率</a>
                      <br />
                      <span
                        style="color:#00A8FE;font-size:18px;font-weight:600;line-height: 40px;"
                      >{{whichProduct.latestData.heartRate}}</span>
                    </div>
                  </el-col>
                  <el-col :span="7">
                    <div class="card" style="cursor: pointer" @click="locationDetails">
                      <a style="color: #fff;font-size: 15px;line-height: 40px;cursor: pointer">位置</a>
                      <br />
                      <span
                        style="color:#00A8FE;font-size:18px;font-weight:600;line-height: 40px;"
                      >{{whichProduct.latestData.location.city}}</span>
                    </div>
                  </el-col>
                </el-row>
                <el-row style="margin-top: 20px; margin-left: 20px;">
                  <span style="color: #fff; font-size: 15px">电子围栏：</span>
                  <span style="color: #00a6fb;font-size: 18px">{{whichProduct.extraInfo.fence}}</span>
                </el-row>
                <el-row style="margin-top: 20px; margin-left: 20px;">
                  <span style="color: #fff; font-size: 15px">最新更新时间：</span>
                  <span
                    style="color: #00a6fb;font-size: 18px"
                  >{{whichProduct.latestData.normalHeart}}</span>
                </el-row>
              </div>

              <div v-if="wenduShow">
                <div class="title" @click="backToOverall" style="cursor: pointer">
                  <svg
                    style="margin-left: 30px;"
                    t="1655382518530"
                    class="icon"
                    viewBox="0 0 1024 1024"
                    version="1.1"
                    xmlns="http://www.w3.org/2000/svg"
                    p-id="9182"
                    width="20"
                    height="20"
                  >
                    <path
                      d="M856.746667 546.133333h-682.666667c-18.773333 0-34.133333-15.36-34.133333-34.133333s15.36-34.133333 34.133333-34.133333h682.666667c18.773333 0 34.133333 15.36 34.133333 34.133333s-15.36 34.133333-34.133333 34.133333z"
                      fill="#3793DF"
                      p-id="9183"
                    />
                    <path
                      d="M455.68 836.266667c-8.533333 0-17.066667-3.413333-23.893333-10.24l-288.426667-290.133334c-13.653333-13.653333-13.653333-34.133333 0-47.786666l288.426667-290.133334c13.653333-13.653333 34.133333-13.653333 47.786666 0 13.653333 13.653333 13.653333 34.133333 0 47.786667L215.04 512l264.533333 266.24c13.653333 13.653333 13.653333 34.133333 0 47.786667-6.826667 6.826667-15.36 10.24-23.893333 10.24z"
                      fill="#EB4AF4"
                      p-id="9184"
                    />
                  </svg>
                  <span style="color: #2770bb">温度（一天内）</span>
                </div>
                <div v-if="dataShow" id="body" v-loading="loading"></div>
                <div v-if="!dataShow" style="text-align: center; margin-top: 30px">
                  <svg
                    t="1655384577348"
                    class="icon"
                    viewBox="0 0 1024 1024"
                    version="1.1"
                    xmlns="http://www.w3.org/2000/svg"
                    p-id="11940"
                    width="64"
                    height="64"
                  >
                    <path
                      d="M525.7 247.1h-68.3c-11 0-20-9-20-20s9-20 20-20h68.3c11 0 20 9 20 20s-9 20-20 20zM528.7 319.8h-68.3c-11 0-20-9-20-20s9-20 20-20h68.3c11 0 20 9 20 20s-9 20-20 20zM531.5 389.1h-68.3c-11 0-20-9-20-20s9-20 20-20h68.3c11 0 20 9 20 20s-9 20-20 20z"
                      fill="#F13451"
                      p-id="11941"
                    />
                    <path
                      d="M503.9 960c-70.9 0-137.5-27.6-187.6-77.7-50.1-50.1-77.7-116.7-77.7-187.6 0-60.8 21.1-120.2 59.3-167.2 37.7-46.4 90.4-79 148.5-91.8l8.3 37.7c-102.9 22.7-177.5 115.8-177.5 221.3 0 125 101.7 226.7 226.7 226.7V960zM503.9 960v-38.7c125 0 226.7-101.7 226.7-226.7 0-100.3-64.4-187.4-160.1-216.8l11.3-37c53.1 16.3 100.9 49.9 134.4 94.5 34.7 46.2 53 101.2 53 159.2 0 70.9-27.6 137.5-77.7 187.6S574.8 960 503.9 960z"
                      fill="#003D79"
                      p-id="11942"
                    />
                    <path
                      d="M610.6 478h-40V114.3H515v-40h55.6c22.1 0 40 17.9 40 40V478zM459.9 472.2h-40.8V115.1c0-22.7 18.1-41.2 40.4-41.2H515v40.8h-55c0 0.1-0.1 0.2-0.1 0.4v357.1z"
                      fill="#003D79"
                      p-id="11943"
                    />
                  </svg>
                  <p style="color: #edaddb">近一天无温度数据</p>
                </div>
              </div>
              <div v-if="xinlvShow">
                <div class="title" @click="backToOverall" style="cursor: pointer">
                  <svg
                    style="margin-left: 30px;"
                    t="1655382518530"
                    class="icon"
                    viewBox="0 0 1024 1024"
                    version="1.1"
                    xmlns="http://www.w3.org/2000/svg"
                    p-id="9182"
                    width="20"
                    height="20"
                  >
                    <path
                      d="M856.746667 546.133333h-682.666667c-18.773333 0-34.133333-15.36-34.133333-34.133333s15.36-34.133333 34.133333-34.133333h682.666667c18.773333 0 34.133333 15.36 34.133333 34.133333s-15.36 34.133333-34.133333 34.133333z"
                      fill="#3793DF"
                      p-id="9183"
                    />
                    <path
                      d="M455.68 836.266667c-8.533333 0-17.066667-3.413333-23.893333-10.24l-288.426667-290.133334c-13.653333-13.653333-13.653333-34.133333 0-47.786666l288.426667-290.133334c13.653333-13.653333 34.133333-13.653333 47.786666 0 13.653333 13.653333 13.653333 34.133333 0 47.786667L215.04 512l264.533333 266.24c13.653333 13.653333 13.653333 34.133333 0 47.786667-6.826667 6.826667-15.36 10.24-23.893333 10.24z"
                      fill="#EB4AF4"
                      p-id="9184"
                    />
                  </svg>
                  <span style="color: #2770bb">心率（一天内）</span>
                </div>
                <div v-if="dataShow" id="body" v-loading="loading"></div>
                <div v-if="!dataShow" style="text-align: center;margin-top: 30px">
                  <svg
                    t="1655384477758"
                    class="icon"
                    viewBox="0 0 1024 1024"
                    version="1.1"
                    xmlns="http://www.w3.org/2000/svg"
                    p-id="10988"
                    width="64"
                    height="64"
                  >
                    <path
                      d="M825.2 410.6c0-128.9-104.5-233.3-233.3-233.3-68.5 0-130.1 29.5-172.8 76.5-33.5-36.8-78.6-62.9-129.5-72.4v602.5l53.3 53.3c25.4 25.4 50.8 50.8 76.2 50.8 25.4 0 50.8-25.4 76.1-50.8L749 583.4h-0.4c47.1-42.7 76.6-104.3 76.6-172.8z"
                      fill="#CB4932"
                      p-id="10989"
                    />
                    <path
                      d="M246.3 177.3C117.5 177.3 13 281.7 13 410.6c0 68.5 29.5 130.1 76.5 172.8h-0.4l200.5 200.5V181.4c-14-2.7-28.5-4.1-43.3-4.1z"
                      fill="#D9D9D9"
                      p-id="10990"
                    />
                    <path
                      d="M771.5 559.5h-171c-9.7 0-18.6-5.2-23.4-13.6l-73.6-129.8-108.1 248.1c-3.5 8.1-10.8 13.9-19.4 15.6-1.7 0.3-3.5 0.5-5.2 0.5-6.9 0-13.6-2.6-18.7-7.5L214.7 540.1H52.2c10.6 15.9 23.2 30.5 37.3 43.3h-0.4L343 837.2c25.4 25.4 50.8 50.8 76.2 50.8 25.4 0 50.8-25.4 76.1-50.8l253.8-253.8h-0.4c8.2-7.4 15.8-15.4 22.8-23.9z"
                      fill="#EA563B"
                      p-id="10991"
                    />
                    <path
                      d="M31.8 486.4h193.7c7 0 13.6 2.7 18.7 7.5l117.4 113.4 114.2-261.9c4.1-9.3 13.1-15.6 23.2-16.1 10.1-0.5 19.8 4.7 24.8 13.6l92.4 162.9H805c13-29.1 20.3-61.3 20.3-95.2 0-128.9-104.5-233.3-233.3-233.3-68.5 0-130.1 29.5-172.8 76.5-42.7-47-104.3-76.5-172.8-76.5C117.5 177.3 13 281.7 13 410.6c0 26.8 4.6 52.5 12.9 76.5 1.9-0.5 3.8-0.7 5.9-0.7z"
                      fill="#EA563B"
                      p-id="10992"
                    />
                    <path
                      d="M1007.4 559H723.5c-2 0-3.6-1.6-3.6-3.6v-46.2c0-2 1.6-3.6 3.6-3.6h283.9c2 0 3.6 1.6 3.6 3.6v46.2c0 2-1.6 3.6-3.6 3.6z"
                      fill="#CB4932"
                      p-id="10993"
                    />
                  </svg>
                  <p style="color: #edaddb">近一天无心率数据</p>
                </div>
              </div>
              <div v-if="guijiShow">
                <div class="title" style="cursor: pointer" @click="backToOverall">
                  <svg
                    style="margin-left: 30px;"
                    t="1655382518530"
                    class="icon"
                    viewBox="0 0 1024 1024"
                    version="1.1"
                    xmlns="http://www.w3.org/2000/svg"
                    p-id="9182"
                    width="20"
                    height="20"
                  >
                    <path
                      d="M856.746667 546.133333h-682.666667c-18.773333 0-34.133333-15.36-34.133333-34.133333s15.36-34.133333 34.133333-34.133333h682.666667c18.773333 0 34.133333 15.36 34.133333 34.133333s-15.36 34.133333-34.133333 34.133333z"
                      fill="#3793DF"
                      p-id="9183"
                    />
                    <path
                      d="M455.68 836.266667c-8.533333 0-17.066667-3.413333-23.893333-10.24l-288.426667-290.133334c-13.653333-13.653333-13.653333-34.133333 0-47.786666l288.426667-290.133334c13.653333-13.653333 34.133333-13.653333 47.786666 0 13.653333 13.653333 13.653333 34.133333 0 47.786667L215.04 512l264.533333 266.24c13.653333 13.653333 13.653333 34.133333 0 47.786667-6.826667 6.826667-15.36 10.24-23.893333 10.24z"
                      fill="#EB4AF4"
                      p-id="9184"
                    />
                  </svg>
                  <span style="color: #2770bb">轨迹（两天内）</span>
                </div>
                <el-row style="margin-top: 20px; margin-left: 20px;">
                  <span style="color: #fff; font-size: 15px">具体位置：</span>
                  <span
                    style="color: #00a6fb;font-size: 18px"
                  >{{whichProduct.latestData.location.desc}}</span>
                </el-row>
                <div v-if="dataShow" v-loading="loading">
                  <baidu-map
                    id="body1"
                    :center="center"
                    :zoom="12"
                    :scroll-wheel-zoom="true"
                    Animation="BMAP_ANIMATION_DROP"
                  >
                    <bm-polyline
                      :path="polylinePath"
                      stroke-color="red"
                      :stroke-opacity="1"
                      :stroke-weight="2"
                    ></bm-polyline>
                  </baidu-map>
                </div>
                <div v-if="!dataShow" style="text-align: center; margin-top: 30px;">
                  <svg
                    t="1655384362836"
                    class="icon"
                    viewBox="0 0 1024 1024"
                    version="1.1"
                    xmlns="http://www.w3.org/2000/svg"
                    p-id="10042"
                    width="64"
                    height="64"
                  >
                    <path
                      d="M709.485714 277.942857C709.485714 160.914286 614.4 65.828571 497.371429 65.828571S292.571429 160.914286 292.571429 277.942857c0 73.142857 204.8 358.4 204.8 358.4s212.114286-277.942857 212.114285-358.4z"
                      fill="#F4B1B2"
                      p-id="10043"
                    />
                    <path
                      d="M497.371429 709.485714l-21.942858-29.257143c-36.571429-51.2-219.428571-307.2-219.428571-387.657142C256 160.914286 365.714286 51.2 497.371429 51.2s241.371429 109.714286 241.371428 241.371429c0 87.771429-182.857143 336.457143-226.742857 387.657142l-14.628571 29.257143z m0-607.085714C394.971429 102.4 307.2 182.857143 307.2 292.571429c0 43.885714 102.4 204.8 190.171429 321.828571C585.142857 497.371429 687.542857 336.457143 687.542857 292.571429c0-109.714286-87.771429-190.171429-190.171428-190.171429z"
                      fill="#D72822"
                      p-id="10044"
                    />
                    <path
                      d="M928.914286 819.2H102.4C58.514286 819.2 14.628571 782.628571 14.628571 731.428571s36.571429-87.771429 87.771429-87.771428h138.971429c14.628571 0 29.257143 14.628571 29.257142 29.257143s-7.314286 29.257143-21.942857 29.257143h-146.285714c-14.628571 0-29.257143 14.628571-29.257143 29.257142s14.628571 29.257143 29.257143 29.257143h819.2c14.628571 0 29.257143 14.628571 29.257143 29.257143s-7.314286 29.257143-21.942857 29.257143z"
                      fill="#D72822"
                      p-id="10045"
                    />
                    <path
                      d="M928.914286 936.228571H226.742857c-14.628571 0-29.257143-14.628571-29.257143-29.257142s14.628571-29.257143 29.257143-29.257143h694.857143c14.628571 0 29.257143-14.628571 29.257143-29.257143s-14.628571-29.257143-29.257143-29.257143H102.4c-14.628571 0-29.257143-14.628571-29.257143-29.257143s14.628571-29.257143 29.257143-29.257143h819.2c43.885714 0 87.771429 36.571429 87.771429 87.771429s-36.571429 87.771429-80.457143 87.771428z"
                      fill="#D72822"
                      p-id="10046"
                    />
                    <path
                      d="M497.371429 263.314286m-80.457143 0a80.457143 80.457143 0 1 0 160.914285 0 80.457143 80.457143 0 1 0-160.914285 0Z"
                      fill="#FDFBFB"
                      p-id="10047"
                    />
                    <path
                      d="M497.371429 365.714286C438.857143 365.714286 394.971429 321.828571 394.971429 263.314286S438.857143 160.914286 497.371429 160.914286s102.4 43.885714 102.4 102.4S555.885714 365.714286 497.371429 365.714286z m0-153.6c-29.257143 0-51.2 21.942857-51.2 51.2s21.942857 51.2 51.2 51.2 51.2-21.942857 51.2-51.2-21.942857-51.2-51.2-51.2z"
                      fill="#D72822"
                      p-id="10048"
                    />
                  </svg>
                  <p style="color: #edaddb">近两天无轨迹数据</p>
                </div>
              </div>
            </div>
          </div>
        </el-col>
      </el-row>
    </div>
  </div>
</template>
<script type="text/javascript" src="./js/china.js"></script> 

<script>
import * as echarts from "echarts";
import "./js/china.js";
import {
  alertbyTime,
  allProductKey,
  getDeviceDatas,
  historyData
} from "@/api/index";
import { UserDetail } from "@/api/admin";
// import "./js/area_echarts.js";
export default {
  name: "admin",
  data() {
    return {
      date: "",
      alertInfo: [],
      alertShow: false,
      productnameList: [],
      productList: [],
      judge: [],
      productShow: false,
      allUser: 0,
      fenceNum: 0,
      groupNum: 0,
      productSearch: "",
      inputShow: false,
      whichGroup: "",
      groups: [],
      show: true,
      data: null,
      data1: null,
      whichProduct: {},
      onlineNum: 0,
      overallShow: true,
      wenduShow: false,
      xinlvShow: false,
      guijiShow: false,
      whichDevice: "",
      dataShow: false,
      loading: true,
      date1: [],
      list: null,
      list1: [],
      center: { lng: 117.192342, lat: 31.770919 }, // 中心点坐标
      polylinePath: [
        { lng: 116.404, lat: 39.915 },
        { lng: 116.405, lat: 39.92 },
        { lng: 116.423493, lat: 39.907445 }
      ],
      alertTitle: true,
      alertSearch: "",
      positionList: [],
      whichGroup:"",
      cityList:[],
      cityStatistic:[],
      tableShow: false,
      scrollShow: true,
    };
  },
  created() {
    this.prepare();
    setTimeout(this.echarts, 1000);
  },
  mounted() {
    setInterval(this.timer, 1000);
  },
  beforeDestroy() {
    if (this.date) {
      clearInterval(this.timer);
    }
  },
  methods: {
    prepare() {
      console.log("初始数据准备");
      var username = window.sessionStorage.getItem("username");
      console.log(username);
      UserDetail(username).then(res => {
        console.log(res);
        this.fenceNum = res.data.extraInfo.fence.length;
        this.groupNum = res.data.extraInfo.groups.length;
        var groupsDetail = res.data.extraInfo.groups;
        this.groups = [];
        groupsDetail.forEach(item => {
          var obj = {
            label: item.name,
            value: item.name
          };
          this.groups.push(obj);
        });
        var obj = {
          label: "未分组",
          value: "un"
        };
        this.groups.push(obj);
        var obj = {
          label: "全部",
          value: "all"
        };
        this.groups.push(obj);
        console.log(this.groups);
      });
      var startTime = Math.floor(
        new Date(new Date().setHours(0, 0, 0, 0)).getTime() / 1000
      );
      var endTime = Math.floor(
        new Date(new Date().setHours(23, 59, 59, 999)).getTime() / 1000
      );
      this.alertInfo = [];
      var obj = {
        startTime: startTime,
        endTime: endTime,
        asc: 1,
        num: 50
      };
      alertbyTime(obj).then(res => {
        console.log(res);
        if (res.msg == "未找到记录") {
          this.alertShow = false; //为了展示改动的地方
        } else if (res.msg == "ok") {
          // this.fenceNum = res.data.
          this.alertShow = true;
          res.data.alertInfo.forEach(item => {
            this.alertInfo.push(item);
          });
          if (this.alertInfo.length !== 0) {
            this.alertInfo.forEach(item => {
              this.judge.forEach(item1 => {
                if (item.productKey == item1.productKey) {
                  item.productName = item1.productName;
                }
              });
              this.data1 = this.alertInfo;
            });
          }
        } else {
          this.$message.error(res.msg);
        }
        console.log(this.alertInfo);
        //    this.echarts();
      });
      allProductKey().then(res => {
        console.log(res);
        if (res.msg == "ok") {
          this.productnameList = res.data.productKeys;
                       for(var i=0;i< this.productnameList.length;i++) {
              for(var j=0;j< this.productnameList.length-1-i;j++) {
                if( this.productnameList[j]> this.productnameList[j+1]) {
                  var temp = this.productnameList[j]
                   this.productnameList[j] =  this.productnameList[j+1] 
                  this.productnameList[j+1] = temp
                }
              }
            }
          var username = window.sessionStorage.getItem("username");
          getDeviceDatas({
            username: username,
            pkList: this.productnameList,
            startTime: 10000
          }).then(res => {
            console.log(res);
            this.productList = res.data;
            this.allUser = this.productList.length;
            console.log(this.productList);
            if (this.productList.length !== 0) {
              this.judge = [];
              this.productList.forEach(item => {
                var jud = {
                  productName: item.productName,
                  productKey: item.productKey
                };
                this.judge.push(jud);
                   window.sessionStorage.setItem("judge", JSON.stringify(this.judge));

                item.deviceName = [];
                item.latestData = [];
                console.log(item.deviceData);
                if (item.deviceData !== null) {
                  for (var i = 0; i < item.deviceData.length; i++) {
                    item.deviceName.push(item.deviceData[i].deviceName);
                  }
                  if (item.extraInfo.fence !== "-") {
                    UserDetail(username).then(res => {
                      console.log(res);
                      this.fenceList = res.data.extraInfo.fence;
                      window.sessionStorage.setItem(
                        "fenceList",
                        JSON.stringify(this.fenceList)
                      );
                      window.sessionStorage.setItem(
                        "fenceData",
                        JSON.stringify(res.data)
                      );

                      if (
                        this.fenceList.length !== 0 ||
                        this.fenceList !== null ||
                        this.fenceList !== undefined
                      ) {
                        for (var i = 0; i < this.fenceList.length; i++) {
                          if (
                            item.extraInfo.fence ==
                            this.fenceList[i].fence.fenceName
                          ) {
                            item.latestData.fence = this.fenceList[
                              i
                            ].fence.data;
                          }
                        }
                      }
                      this.fenceNum = this.fenceList.length;
                      var fenceData = res.data;
                      window.sessionStorage.setItem(
                        "fenceList",
                        JSON.stringify(this.fenceList)
                      );
                      window.sessionStorage.setItem(
                        "fenceData",
                        JSON.stringify(fenceData)
                      );
                    });
                  } else {
                    item.latestData.fence = "-";
                  }
                  console.log(item);
                  if (item.deviceName.includes("BA")) {
                    item.latestData.body =
                      item.deviceData[
                        item.deviceName.indexOf("BA")
                      ].extraInfo.body;
                    item.latestData.skin =
                      item.deviceData[
                        item.deviceName.indexOf("BA")
                      ].extraInfo.skin;
                  } else {
                    item.latestData.body = "-";
                    item.latestData.skin = "-";
                  }
                  if (item.deviceName.includes("C2")) {
                    item.latestData.heartRate =
                      item.deviceData[
                        item.deviceName.indexOf("C2")
                      ].extraInfo.BPHeart;
                    item.latestData.bpHigh =
                      item.deviceData[
                        item.deviceName.indexOf("C2")
                      ].extraInfo.BPHigh;
                    item.latestData.bpLow =
                      item.deviceData[
                        item.deviceName.indexOf("C2")
                      ].extraInfo.BPLow;
                  } else {
                    item.latestData.heartRate = "-";
                    item.latestData.bpHigh = "-";
                    item.latestData.bpLow = "-";
                  }
                  if (item.deviceName.includes("F6")) {
                    item.latestData.stepNum =
                      item.deviceData[
                        item.deviceName.indexOf("F6")
                      ].extraInfo.stepNum;
                    item.latestData.heart =
                      item.deviceData[
                        item.deviceName.indexOf("F6")
                      ].extraInfo.timeStamp;
                  } else {
                    item.latestData.stepNum = "-";
                    item.latestData.heart = "-";
                  }

                  if (item.deviceName.includes("A4")) {
                    item.latestData.location =
                      item.deviceData[item.deviceName.indexOf("A4")].extraInfo;
                  } else {
                    item.latestData.location = "-";
                  }
                } else {
                  item.latestData = {
                    body: "-",
                    skin: "-",
                    heartRate: "-",
                    bpHigh: "-",
                    bpLow: "-",
                    stepNum: "-",
                    location: "",
                    heart: "-",
                    fence: "-",
                    ifIn: "-"
                  };
                }
              });
              // console.log(this.productList);
              this.data = this.productList;
              this.whichProduct = this.productList[0];
              if (this.productList.length !== 0) {
                this.productShow = true;
                var date1 = Math.round(new Date().getTime() / 1000);
                this.onlineNum = 0;
                if (this.productList.length !== 0) {
                  this.productList.forEach(item => {
                    if (item.deviceName.length == 0) {
                      item.extraInfo.status = "未激活";
                    } else {
                      if (
                        item.latestData.heart == "-" ||
                        item.latestData.heart !== undefined
                      ) {
                        item.extraInfo.status = "离线";
                      } else {
                        if (date1 - item.latestData.heart <= 7200) {
                          item.extraInfo.status = "在线";
                          this.onlineNum += 1;
                        } else if (date1 - item.latestData.heart > 7200) {
                          item.extraInfo.status = "离线";
                        }
                      }
                    }
                    if (item.latestData.heart !== "-") {
                      var date = new Date(item.latestData.heart * 1000);
                      var Y = date.getFullYear() + "-";
                      var M =
                        (date.getMonth() + 1 < 10
                          ? "0" + (date.getMonth() + 1)
                          : date.getMonth() + 1) + "-";
                      var D =
                        (date.getDate() < 10
                          ? "0" + date.getDate()
                          : date.getDate()) +
                        " " +
                        " ";
                      var h =
                        (date.getHours() < 10
                          ? "0" + date.getHours()
                          : date.getHours()) + ":";
                      var m =
                        (date.getMinutes() < 10
                          ? "0" + date.getMinutes()
                          : date.getMinutes()) + ":";
                      var s =
                        date.getSeconds() < 10
                          ? "0" + date.getSeconds()
                          : date.getSeconds();
                      var normalTime = Y + M + D + h + m + s;
                      item.latestData.normalHeart = normalTime;
                    } else {
                      item.latestData.normalHeart = "-";
                    }
                  });
                }
              }

              console.log(this.productList);
              this.positionList = []
             if(this.productList.length !==0) {
               this.productList.forEach(item=>{
this.positionList.push(item.latestData.location)
               })
                         console.log(this.positionList)
             this.cityList = []
             this.positionList.forEach(item1=>{
               this.cityList.push(item1.city)
             })
             console.log(this.cityList)
               var arr = this.cityList;
            var newArr = arr.filter(function(item, index) {
              return arr.indexOf(item) === index; // 因为indexOf 只能查找到第一个
            });

            console.log(newArr);
            this.cityList = newArr
            this.cityStatistic = [];
            this.cityList.forEach(item2=>{
              var obj = {
                name: item2,
                value:0              }
                this.cityStatistic.push(obj)
            })
            this.positionList.forEach(item=>{
              this.cityStatistic.forEach(item1=>{
                if (item1.name == item.city) {
                  item1.value+=1
                }
              })
            })
            console.log(this.cityStatistic)

             }
   
            }
          });
        }
      });
    },
    timer() {
      let year = new Date().getFullYear(); //获取当前时间的年份
      let month =
        new Date().getMonth + 1 < 10
          ? "0" + (new Date().getMonth() + 1)
          : new Date().getMonth() + 1; //获取当前的月份
      let Day =
        new Date().getDate() < 10
          ? "0" + new Date().getDate()
          : new Date().getDate(); //获取当前时间的天数、
      let hours =
        new Date().getHours() < 10
          ? "0" + new Date().getHours()
          : new Date().getHours(); //获取当前的小时数
      let minutes =
        new Date().getMinutes() < 10
          ? "0" + new Date().getMinutes()
          : new Date().getMinutes(); //获取当前时间的分数
      let seconds =
        new Date().getSeconds() < 10
          ? "0" + new Date().getSeconds()
          : new Date().getSeconds(); //获取当前时间的秒数
      //拼接格式化当前时间
      this.date =
        year +
        "年" +
        month +
        "月" +
        Day +
        "日" +
        hours +
        ":" +
        minutes +
        ":" +
        seconds;
    },
    skip() {
      this.$router.push({ path: "/home" });
    },
    logout() {
      this.$store.dispatch("user/logout");
      this.$router.push(`/login?redirect=${this.$route.fullPath}`);
    },
    reset() {
      this.prepare();
    },
    echarts() {
      var myChart = echarts.init(document.getElementById("mapBody"));

      var mapName = "china";
      var data = [
        { name: "大连", value: 47 },
        { name: "临汾", value: 47 },
        { name: "石嘴山", value: 49 },
        { name: "长春", value: 51 },
        { name: "胶州", value: 52 },
        { name: "三门峡", value: 53 },
        { name: "锦州", value: 54 },
        { name: "南昌", value: 54 },
        { name: "柳州", value: 54 },
        { name: "三亚", value: 54 },
        { name: "自贡", value: 56 },
        { name: "吉林", value: 56 },
        { name: "阳江", value: 57 },
        { name: "泸州", value: 57 },
        { name: "西宁", value: 57 },
        { name: "宜宾", value: 58 },
        { name: "呼和浩特", value: 58 },
        { name: "成都", value: 58 },
        { name: "大同", value: 58 },
        { name: "桂林", value: 59 },
        { name: "张家界", value: 59 },
        { name: "北海", value: 60 },
        { name: "台州", value: 67 },
        { name: "滨州", value: 70 },
        { name: "贵阳", value: 71 },
        { name: "本溪", value: 71 },
        { name: "克拉玛依", value: 72 },
        { name: "渭南", value: 72 },
        { name: "马鞍山", value: 72 },
        { name: "宝鸡", value: 72 },
        { name: "焦作", value: 75 },
        { name: "北京", value: 79 },
        { name: "大庆", value: 279 }
      ];
      var geoCoordMap = {
        海门: [121.15, 31.89],
        鄂尔多斯: [109.781327, 39.608266],
        招远: [120.38, 37.35],
        舟山: [122.207216, 29.985295],
        齐齐哈尔: [123.97, 47.33],
        盐城: [120.13, 33.38],
        赤峰: [118.87, 42.28],
        青岛: [120.33, 36.07],
        乳山: [121.52, 36.89],
        金昌: [102.188043, 38.520089],
        泉州: [118.58, 24.93],
        莱西: [120.53, 36.86],
        日照: [119.46, 35.42],
        胶南: [119.97, 35.88],
        南通: [121.05, 32.08],
        拉萨: [91.11, 29.97],
        云浮: [112.02, 22.93],
        梅州: [116.1, 24.55],
        文登: [122.05, 37.2],
        上海: [121.48, 31.22],
        攀枝花: [101.718637, 26.582347],
        威海: [122.1, 37.5],
        承德: [117.93, 40.97],
        厦门: [118.1, 24.46],
        汕尾: [115.375279, 22.786211],
        潮州: [116.63, 23.68],
        丹东: [124.37, 40.13],
        太仓: [121.1, 31.45],
        曲靖: [103.79, 25.51],
        烟台: [121.39, 37.52],
        福州: [119.3, 26.08],
        瓦房店: [121.979603, 39.627114],
        即墨: [120.45, 36.38],
        抚顺: [123.97, 41.97],
        玉溪: [102.52, 24.35],
        张家口: [114.87, 40.82],
        阳泉: [113.57, 37.85],
        莱州: [119.942327, 37.177017],
        湖州: [120.1, 30.86],
        汕头: [116.69, 23.39],
        昆山: [120.95, 31.39],
        宁波: [121.56, 29.86],
        湛江: [110.359377, 21.270708],
        揭阳: [116.35, 23.55],
        荣成: [122.41, 37.16],
        连云港: [119.16, 34.59],
        葫芦岛: [120.836932, 40.711052],
        常熟: [120.74, 31.64],
        东莞: [113.75, 23.04],
        河源: [114.68, 23.73],
        淮安: [119.15, 33.5],
        泰州: [119.9, 32.49],
        南宁: [108.33, 22.84],
        营口: [122.18, 40.65],
        惠州: [114.4, 23.09],
        江阴: [120.26, 31.91],
        蓬莱: [120.75, 37.8],
        韶关: [113.62, 24.84],
        嘉峪关: [98.289152, 39.77313],
        广州: [113.23, 23.16],
        延安: [109.47, 36.6],
        太原: [112.53, 37.87],
        清远: [113.01, 23.7],
        中山: [113.38, 22.52],
        昆明: [102.73, 25.04],
        寿光: [118.73, 36.86],
        盘锦: [122.070714, 41.119997],
        长治: [113.08, 36.18],
        深圳: [114.07, 22.62],
        珠海: [113.52, 22.3],
        宿迁: [118.3, 33.96],
        咸阳: [108.72, 34.36],
        铜川: [109.11, 35.09],
        平度: [119.97, 36.77],
        佛山: [113.11, 23.05],
        海口: [110.35, 20.02],
        江门: [113.06, 22.61],
        章丘: [117.53, 36.72],
        肇庆: [112.44, 23.05],
        大连: [121.62, 38.92],
        临汾: [111.5, 36.08],
        吴江: [120.63, 31.16],
        石嘴山: [106.39, 39.04],
        沈阳: [123.38, 41.8],
        苏州: [120.62, 31.32],
        茂名: [110.88, 21.68],
        嘉兴: [120.76, 30.77],
        长春: [125.35, 43.88],
        胶州: [120.03336, 36.264622],
        银川: [106.27, 38.47],
        张家港: [120.555821, 31.875428],
        三门峡: [111.19, 34.76],
        锦州: [121.15, 41.13],
        南昌: [115.89, 28.68],
        柳州: [109.4, 24.33],
        三亚: [109.511909, 18.252847],
        自贡: [104.778442, 29.33903],
        吉林: [126.57, 43.87],
        阳江: [111.95, 21.85],
        泸州: [105.39, 28.91],
        西宁: [101.74, 36.56],
        宜宾: [104.56, 29.77],
        呼和浩特: [111.65, 40.82],
        成都: [104.06, 30.67],
        大同: [113.3, 40.12],
        镇江: [119.44, 32.2],
        桂林: [110.28, 25.29],
        张家界: [110.479191, 29.117096],
        宜兴: [119.82, 31.36],
        北海: [109.12, 21.49],
        西安: [108.95, 34.27],
        金坛: [119.56, 31.74],
        东营: [118.49, 37.46],
        牡丹江: [129.58, 44.6],
        遵义: [106.9, 27.7],
        绍兴: [120.58, 30.01],
        扬州: [119.42, 32.39],
        常州: [119.95, 31.79],
        潍坊: [119.1, 36.62],
        重庆: [106.54, 29.59],
        台州: [121.420757, 28.656386],
        南京: [118.78, 32.04],
        滨州: [118.03, 37.36],
        贵阳: [106.71, 26.57],
        无锡: [120.29, 31.59],
        本溪: [123.73, 41.3],
        克拉玛依: [84.77, 45.59],
        渭南: [109.5, 34.52],
        马鞍山: [118.48, 31.56],
        宝鸡: [107.15, 34.38],
        焦作: [113.21, 35.24],
        句容: [119.16, 31.95],
        北京: [116.46, 39.92],
        徐州: [117.2, 34.26],
        衡水: [115.72, 37.72],
        包头: [110, 40.58],
        绵阳: [104.73, 31.48],
        乌鲁木齐: [87.68, 43.77],
        枣庄: [117.57, 34.86],
        杭州: [120.19, 30.26],
        淄博: [118.05, 36.78],
        鞍山: [122.85, 41.12],
        溧阳: [119.48, 31.43],
        库尔勒: [86.06, 41.68],
        安阳: [114.35, 36.1],
        开封: [114.35, 34.79],
        济南: [117, 36.65],
        德阳: [104.37, 31.13],
        温州: [120.65, 28.01],
        九江: [115.97, 29.71],
        邯郸: [114.47, 36.6],
        临安: [119.72, 30.23],
        兰州: [103.73, 36.03],
        沧州: [116.83, 38.33],
        临沂: [118.35, 35.05],
        南充: [106.110698, 30.837793],
        天津: [117.2, 39.13],
        富阳: [119.95, 30.07],
        泰安: [117.13, 36.18],
        诸暨: [120.23, 29.71],
        郑州: [113.65, 34.76],
        哈尔滨: [126.63, 45.75],
        聊城: [115.97, 36.45],
        芜湖: [118.38, 31.33],
        唐山: [118.02, 39.63],
        平顶山: [113.29, 33.75],
        邢台: [114.48, 37.05],
        德州: [116.29, 37.45],
        济宁: [116.59, 35.38],
        荆州: [112.239741, 30.335165],
        宜昌: [111.3, 30.7],
        义乌: [120.06, 29.32],
        丽水: [119.92, 28.45],
        洛阳: [112.44, 34.7],
        秦皇岛: [119.57, 39.95],
        株洲: [113.16, 27.83],
        石家庄: [114.48, 38.03],
        莱芜: [117.67, 36.19],
        常德: [111.69, 29.05],
        保定: [115.48, 38.85],
        湘潭: [112.91, 27.87],
        金华: [119.64, 29.12],
        岳阳: [113.09, 29.37],
        长沙: [113, 28.21],
        衢州: [118.88, 28.97],
        廊坊: [116.7, 39.53],
        菏泽: [115.480656, 35.23375],
        合肥: [117.27, 31.86],
        武汉: [114.31, 30.52],
        大庆: [125.03, 46.58]
      };
      /*获取地图数据*/
      myChart.showLoading();
      var mapFeatures = echarts.getMap(mapName).geoJson.features;
      myChart.hideLoading();
      mapFeatures.forEach(function(v) {
        // 地区名称
        var name = v.properties.name;
        // 地区经纬度
        geoCoordMap[name] = v.properties.cp;
      });

      // console.log(data);
      // console.log(toolTipData);
      var max = 480,
        min = 9; // todo
      var maxSize4Pin = 100,
        minSize4Pin = 20;
      var convertData = function(data) {
        var res = [];
        for (var i = 0; i < data.length; i++) {
          var geoCoord = geoCoordMap[data[i].name];
          if (geoCoord) {
            res.push({
              name: data[i].name,
              value: geoCoord.concat(data[i].value)
            });
          }
        }
        return res;
      };

      var option = {
        // backgroundColor: '#404a59',
        /***  title: {
        text: '实时行驶车辆',
        subtext: 'data from PM25.in',
        sublink: 'http://www.pm25.in',
        left: 'center',
        textStyle: {
            color: '#fff'
        }
                  },**/
        title: {
          top: 10,
          text: "",
          left: "center",
          textStyle: {
            color: "#fff"
          }
        },
        tooltip: {
          padding: 0,
          enterable: true,
          transitionDuration: 1,
          textStyle: {
            color: "#000",
            decoration: "none"
          },
          trigger: "item",
          formatter: function(params) {
            // console.log(params)
            var tipHtml = "";
            tipHtml =
              '<div style="width:280px;height:150px;background:rgba(22,80,158,0.8);border:1px solid rgba(7,166,255,0.7)">' +
              '<div style="width:100%;height:40px;line-height:40px;border-bottom:2px solid rgba(7,166,255,0.7);padding:0 20px">' +
              '<i style="display:inline-block;width:8px;height:8px;background:#16d6ff;border-radius:40px;">' +
              "</i>" +
              '<span style="margin-left:10px;color:#fff;font-size:16px;">' +
              params.name +
              "</span>" +
              "</div>" +
              '<div style="padding:20px">' +
              '<p style="color:#fff;font-size:12px;">' +
              '<i style="display:inline-block;width:10px;height:10px;background:#16d6ff;border-radius:40px;margin:0 8px">' +
              "</i>" +
              "总人数：" +
              '<span style="color:#11ee7d;margin:0 6px;">' +
              params.value[2] +
              "</span>" +
              "个" +
              "</p>" +
              '<p style="color:#fff;font-size:12px;">' +
              '<i style="display:inline-block;width:10px;height:10px;background:#00c94b;border-radius:40px;margin:0 8px">' +
              "</i>" +
              "在线人数：" +
              '<span style="color:#f48225;margin:0 6px;">' +
              params.value[2] +
              "</span>" +
              "个" +
              "</p>" +
              "</div>" +
              "</div>";
            // setTimeout(function() {
            //   tooltipCharts(params.name);
            // }, 10);
            return tipHtml;
          }
        },

        geo: {
          show: true,
          map: mapName,
          aspectScale: 0.75,
          layoutCenter: ["50%", "51.5%"], //地图位置
          layoutSize: "118%",
          label: {
            emphasis: {
              show: false
            },
            normal: {
              show: false
            }
          },
          // roam: false, //禁止其放大缩小
          itemStyle: {
            normal: {
              areaColor: "#4c60ff",
              borderColor: "#002097"
            },
            emphasis: {
              areaColor: "#293fff"
            }
          },
          z: 2
        },
        series: [
          {
            name: "行政区内人数",
            type: "scatter",
            coordinateSystem: "geo",
            data: convertData(data),
            symbolSize: function(val) {
              return val[2] / 10;
            },
            label: {
              normal: {
                formatter: "{b}",
                position: "right",
                show: true
              },
              emphasis: {
                show: true
              }
            },
            aspectScale: 0.75,
            layoutCenter: ["50%", "50%"], //地图位置
            layoutSize: "118%",
            itemStyle: {
              normal: {
                color: "#ffeb7b"
              }
            }
          },
          {
            type: "map",
            map: mapName,
            geoIndex: 0,
            aspectScale: 0.75, //长宽比
            showLegendSymbol: false, // 存在legend时显示
            label: {
              normal: {
                show: true
              },
              emphasis: {
                show: false,
                textStyle: {
                  color: "#fff"
                }
              }
            },
            roam: true,
            itemStyle: {
              normal: {
                areaColor: "#031525",
                borderColor: "#3B5077"
              },
              emphasis: {
                areaColor: "#2B91B7"
              }
            },
            animation: false,
            data: data
          },
          {
            name: "点",
            type: "scatter",
            coordinateSystem: "geo",
            zlevel: 6
          }
          // {
          //     name: 'Top 5',
          //     type: 'effectScatter',
          //     coordinateSystem: 'geo',
          //     data: convertData(data.sort(function(a, b) {
          //         return b.value - a.value;
          //     }).slice(0, 10)),
          //     symbolSize: function(val) {
          //         return val[2] / 10;
          //     },
          //     showEffectOn: 'render',
          //     rippleEffect: {
          //         brushType: 'stroke'
          //     },
          //     hoverAnimation: true,
          //     label: {
          //         normal: {
          //             formatter: '{b}',
          //             position: 'left',
          //             show: false
          //         }
          //     },
          //     itemStyle: {
          //         normal: {
          //             color: 'yellow',
          //             shadowBlur: 10,
          //             shadowColor: 'yellow'
          //         }
          //     },
          //     zlevel: 1
          // },
        ]
      };
      var index = 0; //播放所在下标
      var showTip = setInterval(function() {
        myChart.dispatchAction({
          type: "showTip",
          seriesIndex: 0,
          dataIndex: index
        });
        index++;
        if (index >= option.series[0].data.length) {
          index = 0;
        }
      }, 2000);
      myChart.on("mouseover", function(params) {
        // console.log(params)
        clearInterval(showTip);
        myChart.dispatchAction({
          type: "showTip",
          seriesIndex: 0,
          dataIndex: params.dataIndex
        });
      });
      myChart.on("mouseout", function(params) {
        showTip && clearInterval(showTip);
        showTip = setInterval(function() {
          myChart.dispatchAction({
            type: "showTip",
            seriesIndex: 0,
            dataIndex: index
          });
          index++;
          if (index >= option.series[0].data.length) {
            index = 0;
          }
        }, 2000);
      });

      myChart.setOption(option);
      window.addEventListener("resize", function() {
        myChart.resize();
      });

      // option1 && myChart1.setOption(option1);
    },
    echarts1() {
      console.log(this.whichProduct);
      console.log(this.whichDevice);
      var dealDeviceKey = "";
      var time = Math.round(new Date() / 1000);
      var startTime = time - 172800;
      var startTime1 = time - 86400;
      this.whichProduct.deviceData.forEach(item => {
        if (item.deviceName == this.whichDevice) {
          dealDeviceKey = item.deviceKey;
        }
      });
      console.log(dealDeviceKey);
      if (dealDeviceKey == "") {
        this.dataShow = false;
      } else {
        this.dataShow = true;
        if (this.whichDevice !== "A4") {
          var payload = {
            deviceKey: dealDeviceKey,
            startTime: startTime1,
            endTime: time,
            asc: 1
          };
          console.log(payload);
          historyData(payload).then(res => {
            console.log(res);
            if (res.msg == "ok") {
              this.loading = false;
              this.date1 = [];
              this.list = res.data.deviceData;
              if (this.whichDevice == "BA") {
                this.list1 = [
                  {
                    name: "腕温",
                    type: "line",
                    symbol: "none",
                    data: [],
                    markLine: {
                      data: [{ type: "average", name: "Avg" }]
                    }
                  },
                  {
                    name: "体温",
                    type: "line",
                    symbol: "none",
                    data: [],
                    markLine: {
                      data: [{ type: "average", name: "Avg" }]
                    }
                  }
                ];
                this.list.forEach(item1 => {
                  this.date1.push(item1.date);
                  this.list1[0].data.push(item1.extraInfo.skin);
                  this.list1[1].data.push(item1.extraInfo.body);
                });
                this.echarts2();
              } else if (this.whichDevice == "C2") {
                this.list1 = [
                  {
                    name: "心率",
                    type: "line",
                    symbol: "none",
                    data: [],
                    markLine: {
                      data: [{ type: "average", name: "Avg" }]
                    }
                  },
                  {
                    name: "收缩压",
                    type: "line",
                    symbol: "none",
                    data: [],
                    markLine: {
                      data: [{ type: "average", name: "Avg" }]
                    }
                  },
                  {
                    name: "舒张压",
                    type: "line",
                    symbol: "none",
                    data: [],
                    markLine: {
                      data: [{ type: "average", name: "Avg" }]
                    }
                  }
                ];
                this.list.forEach(item1 => {
                  this.date1.push(item1.date);
                  this.list1[0].data.push(item1.extraInfo.BPHeart);
                  this.list1[1].data.push(item1.extraInfo.BPHigh);
                  this.list1[2].data.push(item1.extraInfo.BPLow);
                });
                this.echarts2();
              }
            } else {
              this.dataShow = false;
            }
          });
        } else {
          console.log("A4");
          var payload = {
            deviceKey: dealDeviceKey,
            startTime: startTime,
            endTime: time,
            asc: 1
          };
          historyData(payload).then(res => {
            console.log(res);
            if (res.msg == "ok") {
              this.loading = false;
              var trace = res.data.deviceData;
              this.center = {
                lng: trace[0].extraInfo.location.split(",")[0],
                lat: trace[0].extraInfo.location.split(",")[1]
              };
              this.polylinePath = [];
              trace.forEach(item1 => {
                item1.position = {
                  lng: item1.extraInfo.location.split(",")[0],
                  lat: item1.extraInfo.location.split(",")[1]
                };
                // console.log(item1.position)
                this.polylinePath.push(item1.position);
              });
            } else {
              console.log(res.msg);
              this.dataShow = false;
            }
          });
        }
      }
    },
    echarts2() {
      // console.log(this.date1)
      // console.log(this.list1)
      var chartDom1 = document.getElementById("body");
      var myChart1 = echarts.init(chartDom1);
      var option1;

      option1 = {
        tooltip: {
          trigger: "axis"
        },
        legend: {
          textStyle: {
            color: "#fff"
          }
        },
        toolbox: {
          show: true,
          feature: {}
        },

        color: ["#cd9136", "#5a99e6", "#d1191e"],
        xAxis: {
          type: "category",
          boundaryGap: false,
          data: this.date1,
          axisLabel: {
            // X轴线 标签修改
            textStyle: {
              color: "#fff" //坐标值得具体的颜色
            }
          },
          splitLine: {
            show: true, // X轴线 颜色类型的修改
            lineStyle: {
              color: "#fff"
            }
          },
          axisLine: {
            show: true, // X轴 网格线 颜色类型的修改
            lineStyle: {
              color: "#fff"
            }
          }
        },
        yAxis: {
          type: "value",
          axisLabel: {
            formatter: "{value} °C"
          },
          axisLabel: {
            formatter: "{value}",
            textStyle: {
              color: "#fff" //坐标值得具体的颜色
            }
          },
          axisLine: {
            show: true, // Y轴线
            lineStyle: {
              type: "dashed",
              color: "#fff"
            }
          },
          splitLine: {
            show: true,
            lineStyle: {
              type: "dashed",
              color: "#fff"
            }
          }
        },
        series: this.list1
      };

      option1 && myChart1.setOption(option1);
    },
    detailproduct(row) {
      this.whichProduct = row;
      console.log(this.whichProduct);
      this.backToOverall();
    },
    inputChange() {
      console.log(this.productSearch);
      this.data = [];
      this.productList.forEach(item => {
        if (
          item.productName
            .toLowerCase()
            .includes(this.productSearch.toLowerCase())
        ) {
          this.data.push(item);
        }
      });
    },
    inputChange1() {
      console.log(this.alertSearch);
      this.data1 = [];
      this.alertInfo.forEach(item => {
        if (
          item.productName
            .toLowerCase()
            .includes(this.alertSearch.toLowerCase())
        ) {
          this.data1.push(item);
        }
      });
    },
    change() {
      this.productSearch = "";
      this.inputShow = false;
      this.data = this.productList;

      // this.products();
    },
    change1() {
      this.alertTitle = true;
      this.data1 = this.alertInfo;
    },
    startSearch() {
      this.inputShow = true;
      this.show = true;
      this.whichGroup = "all";
      this.data = this.productList;
    },
    startSearch1() {
      this.alertTitle = false;
    },
    startSelect() {
      this.show = false;
      this.change();
      this.whichGroup = "all";
    },
    grouping() {
      this.change();
      console.log(this.whichGroup);
      if (this.whichGroup !== "all") {
        this.data = [];
        this.productList.forEach(item => {
          if (
            item.extraInfo.groupStatus.groups == this.whichGroup ||
            item.extraInfo.groupStatus.status == this.whichGroup
          ) {
            this.data.push(item);
          }
        });
      } else {
        this.data = this.productList;
      }
    },
    wenduDetails() {
      console.log("温度详情");
      this.overallShow = false;
      this.wenduShow = true;
      this.xinlvShow = false;
      this.guijiShow = false;
      this.whichDevice = "BA";
      this.echarts1();
    },
    xinlvDetails() {
      console.log("心率详情");
      this.overallShow = false;
      this.wenduShow = false;
      this.xinlvShow = true;
      this.guijiShow = false;
      this.whichDevice = "C2";
      this.echarts1();
    },
    locationDetails() {
      console.log("位置详情");
      this.overallShow = false;
      this.wenduShow = false;
      this.xinlvShow = false;
      this.guijiShow = true;
      this.whichDevice = "A4";
      this.echarts1();
    },
    backToOverall() {
      console.log("返回");
      this.overallShow = true;
      this.wenduShow = false;
      this.xinlvShow = false;
      this.guijiShow = false;
    },
    switch1() {
this.tableShow = false;
this.scrollShow = true;
    },
        switch2() {
this.tableShow = true;
this.scrollShow = false;
    },
  }
};
</script>
<style lang="scss" scoped>
.layout {
  padding: 20px;
  height: 100%;
  background-color: #fff;
  z-index: 1;
  background: url("../img/bg.jpg") no-repeat center center;
  .titlePart {
    height: 90px;
    background: url("../img/header-bg.png") no-repeat center center;
    background-size: 100% 100%;
    border-color: #7187ac;
    .title-info {
      height: 2em;
      color: #03c2ec;
      text-align: center;
      font-size: 24px;
      font-family: "cuhei";
      font-weight: 600;
      line-height: 2em;
      vertical-align: middle;
    }

    .analysis-filter {
      height: 40.5px;
      line-height: 40.5px;
      color: #fff;
      font-size: 18px;
      font-weight: bold;
      float: right;
      margin-right: 50px;
    }
  }

  .content {
    margin-bottom: 10px;
    width: 100%;
    height: calc(100vh - 100px);

    .left {
      height: calc(100vh - 120px);
      width: 98%;
      margin-left: 1%;
      margin: 10px 10px 20px 10px;
      border-radius: 8px;

      // background-color: #fff;

      // background-color: #181c41;
      backdrop-filter: blur(20px);
      box-shadow: 1px 1px 10px rgba(93, 93, 93, 0.5);
      // border-right: 1px solid #fff;
      border-radius: 15px;
      z-index: 5;
      color: #fff;
      background: url("../img/footer-bg.png") no-repeat center bottom;
      .top {
        height: 400px;
        .input {
          width: 86%;
          margin-left: 2%;
          height: 40px;
          background-color: #00093e !important;
          color: #fff;
          border: 1px solid #001257;
          outline: none;
        }
        // background-color: #fff;
      }
      .bottom {
        // margin-top: 30px;
        height: calc(100% - 400px);
        width: 100%;
        // background: url("../img/footer-bg.png") no-repeat center center;
        .seamless-warp {
          height: 100%;
          width: 100%;
          overflow: hidden;
        }
        .cardList {
          height: 80px;
          width: 100%;
          text-align: left;
          /* background-color: rgb(204, 90, 90); */
        }
        .divider {
          margin-top: 5%;
          width: 80%;
          margin-left: 10%;
          height: 2px;
          padding: 0;
          margin: 0;
          background-color: rgb(24, 136, 93);
          font-family: "Kosugi Maru", sans-serif;
          background-image: linear-gradient(
            45deg,
            rgb(47, 56, 93),
            rgb(101, 120, 156),
            rgb(101, 120, 156),
            rgb(47, 56, 93)
          );
        }
      }
    }
    .map {
      position: relative;
      height: calc(100vh - 120px);
      z-index: 9;
      // background-color: #fff;
      .map1,
      .map2,
      .map3 {
        position: absolute;
        opacity: 0.3;
      }
      .map1 {
        width: 50%;
        z-index: 2;
        top: 7%;
        left: 14%;
        // animation: myfirst2 15s infinite linear;
      }
      .map2 {
        width: 50%;
        z-index: 3;
        top: 12%;
        left: 20%;
        // animation: myfirst2 15s infinite linear;
      }
      .map3 {
        width: 30%;
        height: 30%;
        z-index: 1;
        top: 15%;
        left: 23%;
      }

      #mapBody {
        position: absolute;
        left: 0px;
        top: 0px;
        height: calc(100vh - 120px);
        width: 98%;
        margin-left: 1%;
        margin: 10px 10px 20px 10px;
        border-radius: 8px;
        //    background: url("../img/footer-bg.png") no-repeat center center;

        z-index: 7;
        // background-color: #fff;
      }
    }

    .right {
      height: calc(100vh - 120px);
      width: 93%;
      margin-left: 1%;
      margin: 10px 10px 20px 10px;
      border-radius: 8px;
      //    background: url("../img/footer-bg.png") no-repeat center center;
      background-color: transparent;
      backdrop-filter: blur(20px);
      // box-shadow: 3px 5px 10px rgba(93, 93, 93, 0.5);
      box-shadow: 1px 1px 10px rgba(93, 93, 93, 0.5);
      border-radius: 15px;
      z-index: 5;
      background: url("../img/footer-bg.png") no-repeat center bottom;
      .top {
        height: calc(100% - 360px);
        width: 100%;
        .input {
          width: 86%;
          margin-left: 2%;
          height: 40px;
          background-color: #00093e !important;
          color: #fff;
          border: 1px solid #001257;
          outline: none;
        }
        .select {
          width: 90%;
          float: left;
          margin-left: 2%;
          background-color: #00093e !important;
          color: #9b8f8f;
          border: 1px solid #001257;
          outline: none;
        }
          .seamless-warp {
          height: calc(90% - 60px);
          width: 100%;
          overflow: hidden;
        }
        .cardList {
          height: 40px;
          width: 100%;
          text-align: left;
          /* background-color: rgb(204, 90, 90); */
        }
        .divider {
          margin-top: 5%;
          width: 80%;
          margin-left: 10%;
          height: 2px;
          padding: 0;
          margin: 0;
          background-color: rgb(24, 136, 93);
          font-family: "Kosugi Maru", sans-serif;
          background-image: linear-gradient(
            45deg,
            rgb(47, 56, 93),
            rgb(101, 120, 156),
            rgb(101, 120, 156),
            rgb(47, 56, 93)
          );
        }

        .productList {
          margin-top: 10px;
          height: calc(100% - 50px);
          width: 100%;
          overflow: auto;
          background-color: #00093e;
          border: none;
          ::-webkit-scrollbar {
            width: 6px;
            height: 1px;
            // display: none;
          }
          ::-webkit-scrollbar-thumb {
            border-radius: 10px;
            box-shadow: inset 0 0 5px rgba(97, 184, 179, 0.1);
            background: #78b4b4;
          }
          ::-webkit-scrollbar-track {
            box-shadow: inset 0 0 5px rgba(87, 175, 187, 0.1);
            border-radius: 10px;
            background: #ededed;
          }
        }
        .cardList {
          height: 80px;
          width: 100%;
          text-align: left;
          /* background-color: rgb(204, 90, 90); */
        }
      }
      #bottom {
        margin-top: 100px;
        height: 280px;
        width: 100%;
        .card {
          height: 80px;
          line-height: 30px;
          margin-left: 5px;
          margin-right: 5px;
          vertical-align: middle;
          text-align: center;
          color: #fff;
          background: #101a57;
          border-radius: 6px;
        }
        #body,
        #body1 {
          float: bottom;
          margin-top: 22px;
          border-bottom-left-radius: 20px;
          border-bottom-right-radius: 20px;
          height: 220px;
          width: 100%;
          // background-color: #fff;
        }
        #body1 {
          height: 180px;
          margin-top: 0px;
          border-radius: 20px;
        }
      }
    }
  }
}

@keyframes myfirst2 {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes myfirst {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(-360deg);
  }
}
</style>
















